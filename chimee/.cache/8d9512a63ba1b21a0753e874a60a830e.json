{"dependencies":[{"name":"process"}],"generated":{"js":"var global = (1,eval)(\"this\");\nvar process = require(\"process\");\n\"use strict\";\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * chimee-plugin-popup v0.0.7\n * (c) 2017 huzunjie\n * Released under MIT\n */\n\n(function (global, factory) {\n  (typeof exports === \"undefined\" ? \"undefined\" : _typeof2(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.chimeePluginPopup = factory();\n})(undefined, function () {\n  'use strict';\n\n  function __$styleInject(css, returnValue) {\n    if (typeof document === 'undefined') {\n      return returnValue;\n    }\n    css = css || '';\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var style = document.createElement('style');\n    style.type = 'text/css';\n    head.appendChild(style);\n\n    if (style.styleSheet) {\n      style.styleSheet.cssText = css;\n    } else {\n      style.appendChild(document.createTextNode(css));\n    }\n    return returnValue;\n  }\n\n  var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function unwrapExports(x) {\n    return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n  }\n\n  function createCommonjsModule(fn, module) {\n    return module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var _iterStep = function _iterStep(done, value) {\n    return { value: value, done: !!done };\n  };\n\n  var _iterators = {};\n\n  var toString = {}.toString;\n\n  var _cof = function _cof(it) {\n    return toString.call(it).slice(8, -1);\n  };\n\n  // fallback for non-array-like ES3 and non-enumerable old V8 strings\n\n  // eslint-disable-next-line no-prototype-builtins\n  var _iobject = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n    return _cof(it) == 'String' ? it.split('') : Object(it);\n  };\n\n  // 7.2.1 RequireObjectCoercible(argument)\n  var _defined = function _defined(it) {\n    if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n    return it;\n  };\n\n  // to indexed object, toObject with fallback for non-array-like ES3 strings\n\n\n  var _toIobject = function _toIobject(it) {\n    return _iobject(_defined(it));\n  };\n\n  var _library = true;\n\n  var _global = createCommonjsModule(function (module) {\n    // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n    var global = module.exports = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self\n    // eslint-disable-next-line no-new-func\n    : Function('return this')();\n    if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n  });\n\n  var _core = createCommonjsModule(function (module) {\n    var core = module.exports = { version: '2.5.1' };\n    if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n  });\n\n  var _core_1 = _core.version;\n\n  var _aFunction = function _aFunction(it) {\n    if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n    return it;\n  };\n\n  // optional / simple context binding\n\n  var _ctx = function _ctx(fn, that, length) {\n    _aFunction(fn);\n    if (that === undefined) return fn;\n    switch (length) {\n      case 1:\n        return function (a) {\n          return fn.call(that, a);\n        };\n      case 2:\n        return function (a, b) {\n          return fn.call(that, a, b);\n        };\n      case 3:\n        return function (a, b, c) {\n          return fn.call(that, a, b, c);\n        };\n    }\n    return function () /* ...args */{\n      return fn.apply(that, arguments);\n    };\n  };\n\n  var _isObject = function _isObject(it) {\n    return (typeof it === \"undefined\" ? \"undefined\" : _typeof2(it)) === 'object' ? it !== null : typeof it === 'function';\n  };\n\n  var _anObject = function _anObject(it) {\n    if (!_isObject(it)) throw TypeError(it + ' is not an object!');\n    return it;\n  };\n\n  var _fails = function _fails(exec) {\n    try {\n      return !!exec();\n    } catch (e) {\n      return true;\n    }\n  };\n\n  // Thank's IE8 for his funny defineProperty\n  var _descriptors = !_fails(function () {\n    return Object.defineProperty({}, 'a', { get: function get() {\n        return 7;\n      } }).a != 7;\n  });\n\n  var document$1 = _global.document;\n  // typeof document.createElement is 'object' in old IE\n  var is = _isObject(document$1) && _isObject(document$1.createElement);\n  var _domCreate = function _domCreate(it) {\n    return is ? document$1.createElement(it) : {};\n  };\n\n  var _ie8DomDefine = !_descriptors && !_fails(function () {\n    return Object.defineProperty(_domCreate('div'), 'a', { get: function get() {\n        return 7;\n      } }).a != 7;\n  });\n\n  // 7.1.1 ToPrimitive(input [, PreferredType])\n\n  // instead of the ES6 spec version, we didn't implement @@toPrimitive case\n  // and the second argument - flag - preferred type is a string\n  var _toPrimitive = function _toPrimitive(it, S) {\n    if (!_isObject(it)) return it;\n    var fn, val;\n    if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n    if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) return val;\n    if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;\n    throw TypeError(\"Can't convert object to primitive value\");\n  };\n\n  var dP = Object.defineProperty;\n\n  var f = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n    _anObject(O);\n    P = _toPrimitive(P, true);\n    _anObject(Attributes);\n    if (_ie8DomDefine) try {\n      return dP(O, P, Attributes);\n    } catch (e) {/* empty */}\n    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n    if ('value' in Attributes) O[P] = Attributes.value;\n    return O;\n  };\n\n  var _objectDp = {\n    f: f\n  };\n\n  var _propertyDesc = function _propertyDesc(bitmap, value) {\n    return {\n      enumerable: !(bitmap & 1),\n      configurable: !(bitmap & 2),\n      writable: !(bitmap & 4),\n      value: value\n    };\n  };\n\n  var _hide = _descriptors ? function (object, key, value) {\n    return _objectDp.f(object, key, _propertyDesc(1, value));\n  } : function (object, key, value) {\n    object[key] = value;\n    return object;\n  };\n\n  var PROTOTYPE = 'prototype';\n\n  var $export = function $export(type, name, source) {\n    var IS_FORCED = type & $export.F;\n    var IS_GLOBAL = type & $export.G;\n    var IS_STATIC = type & $export.S;\n    var IS_PROTO = type & $export.P;\n    var IS_BIND = type & $export.B;\n    var IS_WRAP = type & $export.W;\n    var exports = IS_GLOBAL ? _core : _core[name] || (_core[name] = {});\n    var expProto = exports[PROTOTYPE];\n    var target = IS_GLOBAL ? _global : IS_STATIC ? _global[name] : (_global[name] || {})[PROTOTYPE];\n    var key, own, out;\n    if (IS_GLOBAL) source = name;\n    for (key in source) {\n      // contains in native\n      own = !IS_FORCED && target && target[key] !== undefined;\n      if (own && key in exports) continue;\n      // export native or passed\n      out = own ? target[key] : source[key];\n      // prevent global pollution for namespaces\n      exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n      // bind timers to global for call from export context\n      : IS_BIND && own ? _ctx(out, _global)\n      // wrap global constructors for prevent change them in library\n      : IS_WRAP && target[key] == out ? function (C) {\n        var F = function F(a, b, c) {\n          if (this instanceof C) {\n            switch (arguments.length) {\n              case 0:\n                return new C();\n              case 1:\n                return new C(a);\n              case 2:\n                return new C(a, b);\n            }return new C(a, b, c);\n          }return C.apply(this, arguments);\n        };\n        F[PROTOTYPE] = C[PROTOTYPE];\n        return F;\n        // make static versions for prototype methods\n      }(out) : IS_PROTO && typeof out == 'function' ? _ctx(Function.call, out) : out;\n      // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n      if (IS_PROTO) {\n        (exports.virtual || (exports.virtual = {}))[key] = out;\n        // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n        if (type & $export.R && expProto && !expProto[key]) _hide(expProto, key, out);\n      }\n    }\n  };\n  // type bitmap\n  $export.F = 1; // forced\n  $export.G = 2; // global\n  $export.S = 4; // static\n  $export.P = 8; // proto\n  $export.B = 16; // bind\n  $export.W = 32; // wrap\n  $export.U = 64; // safe\n  $export.R = 128; // real proto method for `library`\n  var _export = $export;\n\n  var _redefine = _hide;\n\n  var hasOwnProperty = {}.hasOwnProperty;\n  var _has = function _has(it, key) {\n    return hasOwnProperty.call(it, key);\n  };\n\n  // 7.1.4 ToInteger\n  var ceil = Math.ceil;\n  var floor = Math.floor;\n  var _toInteger = function _toInteger(it) {\n    return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n  };\n\n  // 7.1.15 ToLength\n\n  var min = Math.min;\n  var _toLength = function _toLength(it) {\n    return it > 0 ? min(_toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n  };\n\n  var max = Math.max;\n  var min$1 = Math.min;\n  var _toAbsoluteIndex = function _toAbsoluteIndex(index, length) {\n    index = _toInteger(index);\n    return index < 0 ? max(index + length, 0) : min$1(index, length);\n  };\n\n  // false -> Array#indexOf\n  // true  -> Array#includes\n\n\n  var _arrayIncludes = function _arrayIncludes(IS_INCLUDES) {\n    return function ($this, el, fromIndex) {\n      var O = _toIobject($this);\n      var length = _toLength(O.length);\n      var index = _toAbsoluteIndex(fromIndex, length);\n      var value;\n      // Array#includes uses SameValueZero equality algorithm\n      // eslint-disable-next-line no-self-compare\n      if (IS_INCLUDES && el != el) while (length > index) {\n        value = O[index++];\n        // eslint-disable-next-line no-self-compare\n        if (value != value) return true;\n        // Array#indexOf ignores holes, Array#includes - not\n      } else for (; length > index; index++) {\n        if (IS_INCLUDES || index in O) {\n          if (O[index] === el) return IS_INCLUDES || index || 0;\n        }\n      }return !IS_INCLUDES && -1;\n    };\n  };\n\n  var SHARED = '__core-js_shared__';\n  var store = _global[SHARED] || (_global[SHARED] = {});\n  var _shared = function _shared(key) {\n    return store[key] || (store[key] = {});\n  };\n\n  var id = 0;\n  var px = Math.random();\n  var _uid = function _uid(key) {\n    return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n  };\n\n  var shared = _shared('keys');\n\n  var _sharedKey = function _sharedKey(key) {\n    return shared[key] || (shared[key] = _uid(key));\n  };\n\n  var arrayIndexOf = _arrayIncludes(false);\n  var IE_PROTO$1 = _sharedKey('IE_PROTO');\n\n  var _objectKeysInternal = function _objectKeysInternal(object, names) {\n    var O = _toIobject(object);\n    var i = 0;\n    var result = [];\n    var key;\n    for (key in O) {\n      if (key != IE_PROTO$1) _has(O, key) && result.push(key);\n    } // Don't enum bug & hidden keys\n    while (names.length > i) {\n      if (_has(O, key = names[i++])) {\n        ~arrayIndexOf(result, key) || result.push(key);\n      }\n    }return result;\n  };\n\n  // IE 8- don't enum bug keys\n  var _enumBugKeys = 'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'.split(',');\n\n  // 19.1.2.14 / 15.2.3.14 Object.keys(O)\n\n\n  var _objectKeys = Object.keys || function keys(O) {\n    return _objectKeysInternal(O, _enumBugKeys);\n  };\n\n  var _objectDps = _descriptors ? Object.defineProperties : function defineProperties(O, Properties) {\n    _anObject(O);\n    var keys = _objectKeys(Properties);\n    var length = keys.length;\n    var i = 0;\n    var P;\n    while (length > i) {\n      _objectDp.f(O, P = keys[i++], Properties[P]);\n    }return O;\n  };\n\n  var document$2 = _global.document;\n  var _html = document$2 && document$2.documentElement;\n\n  // 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n\n\n  var IE_PROTO = _sharedKey('IE_PROTO');\n  var Empty = function Empty() {/* empty */};\n  var PROTOTYPE$1 = 'prototype';\n\n  // Create object with fake `null` prototype: use iframe Object with cleared prototype\n  var _createDict = function createDict() {\n    // Thrash, waste and sodomy: IE GC bug\n    var iframe = _domCreate('iframe');\n    var i = _enumBugKeys.length;\n    var lt = '<';\n    var gt = '>';\n    var iframeDocument;\n    iframe.style.display = 'none';\n    _html.appendChild(iframe);\n    iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n    // createDict = iframe.contentWindow.Object;\n    // html.removeChild(iframe);\n    iframeDocument = iframe.contentWindow.document;\n    iframeDocument.open();\n    iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n    iframeDocument.close();\n    _createDict = iframeDocument.F;\n    while (i--) {\n      delete _createDict[PROTOTYPE$1][_enumBugKeys[i]];\n    }return _createDict();\n  };\n\n  var _objectCreate = Object.create || function create(O, Properties) {\n    var result;\n    if (O !== null) {\n      Empty[PROTOTYPE$1] = _anObject(O);\n      result = new Empty();\n      Empty[PROTOTYPE$1] = null;\n      // add \"__proto__\" for Object.getPrototypeOf polyfill\n      result[IE_PROTO] = O;\n    } else result = _createDict();\n    return Properties === undefined ? result : _objectDps(result, Properties);\n  };\n\n  var _wks = createCommonjsModule(function (module) {\n    var store = _shared('wks');\n\n    var _Symbol = _global.Symbol;\n    var USE_SYMBOL = typeof _Symbol == 'function';\n\n    var $exports = module.exports = function (name) {\n      return store[name] || (store[name] = USE_SYMBOL && _Symbol[name] || (USE_SYMBOL ? _Symbol : _uid)('Symbol.' + name));\n    };\n\n    $exports.store = store;\n  });\n\n  var def = _objectDp.f;\n\n  var TAG = _wks('toStringTag');\n\n  var _setToStringTag = function _setToStringTag(it, tag, stat) {\n    if (it && !_has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n  };\n\n  var IteratorPrototype = {};\n\n  // 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n  _hide(IteratorPrototype, _wks('iterator'), function () {\n    return this;\n  });\n\n  var _iterCreate = function _iterCreate(Constructor, NAME, next) {\n    Constructor.prototype = _objectCreate(IteratorPrototype, { next: _propertyDesc(1, next) });\n    _setToStringTag(Constructor, NAME + ' Iterator');\n  };\n\n  // 7.1.13 ToObject(argument)\n\n  var _toObject = function _toObject(it) {\n    return Object(_defined(it));\n  };\n\n  // 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\n\n\n  var IE_PROTO$2 = _sharedKey('IE_PROTO');\n  var ObjectProto = Object.prototype;\n\n  var _objectGpo = Object.getPrototypeOf || function (O) {\n    O = _toObject(O);\n    if (_has(O, IE_PROTO$2)) return O[IE_PROTO$2];\n    if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n      return O.constructor.prototype;\n    }return O instanceof Object ? ObjectProto : null;\n  };\n\n  var ITERATOR = _wks('iterator');\n  var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\n  var FF_ITERATOR = '@@iterator';\n  var KEYS = 'keys';\n  var VALUES = 'values';\n\n  var returnThis = function returnThis() {\n    return this;\n  };\n\n  var _iterDefine = function _iterDefine(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n    _iterCreate(Constructor, NAME, next);\n    var getMethod = function getMethod(kind) {\n      if (!BUGGY && kind in proto) return proto[kind];\n      switch (kind) {\n        case KEYS:\n          return function keys() {\n            return new Constructor(this, kind);\n          };\n        case VALUES:\n          return function values() {\n            return new Constructor(this, kind);\n          };\n      }return function entries() {\n        return new Constructor(this, kind);\n      };\n    };\n    var TAG = NAME + ' Iterator';\n    var DEF_VALUES = DEFAULT == VALUES;\n    var VALUES_BUG = false;\n    var proto = Base.prototype;\n    var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n    var $default = $native || getMethod(DEFAULT);\n    var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n    var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n    var methods, key, IteratorPrototype;\n    // Fix native\n    if ($anyNative) {\n      IteratorPrototype = _objectGpo($anyNative.call(new Base()));\n      if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n        // Set @@toStringTag to native iterators\n        _setToStringTag(IteratorPrototype, TAG, true);\n        // fix for some old engines\n        if (!_library && !_has(IteratorPrototype, ITERATOR)) _hide(IteratorPrototype, ITERATOR, returnThis);\n      }\n    }\n    // fix Array#{values, @@iterator}.name in V8 / FF\n    if (DEF_VALUES && $native && $native.name !== VALUES) {\n      VALUES_BUG = true;\n      $default = function values() {\n        return $native.call(this);\n      };\n    }\n    // Define iterator\n    if ((!_library || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n      _hide(proto, ITERATOR, $default);\n    }\n    // Plug for library\n    _iterators[NAME] = $default;\n    _iterators[TAG] = returnThis;\n    if (DEFAULT) {\n      methods = {\n        values: DEF_VALUES ? $default : getMethod(VALUES),\n        keys: IS_SET ? $default : getMethod(KEYS),\n        entries: $entries\n      };\n      if (FORCED) for (key in methods) {\n        if (!(key in proto)) _redefine(proto, key, methods[key]);\n      } else _export(_export.P + _export.F * (BUGGY || VALUES_BUG), NAME, methods);\n    }\n    return methods;\n  };\n\n  // 22.1.3.4 Array.prototype.entries()\n  // 22.1.3.13 Array.prototype.keys()\n  // 22.1.3.29 Array.prototype.values()\n  // 22.1.3.30 Array.prototype[@@iterator]()\n  var es6_array_iterator = _iterDefine(Array, 'Array', function (iterated, kind) {\n    this._t = _toIobject(iterated); // target\n    this._i = 0; // next index\n    this._k = kind; // kind\n    // 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n  }, function () {\n    var O = this._t;\n    var kind = this._k;\n    var index = this._i++;\n    if (!O || index >= O.length) {\n      this._t = undefined;\n      return _iterStep(1);\n    }\n    if (kind == 'keys') return _iterStep(0, index);\n    if (kind == 'values') return _iterStep(0, O[index]);\n    return _iterStep(0, [index, O[index]]);\n  }, 'values');\n\n  // argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\n  _iterators.Arguments = _iterators.Array;\n\n  var TO_STRING_TAG = _wks('toStringTag');\n\n  var DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' + 'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' + 'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' + 'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' + 'TextTrackList,TouchList').split(',');\n\n  for (var i = 0; i < DOMIterables.length; i++) {\n    var NAME = DOMIterables[i];\n    var Collection = _global[NAME];\n    var proto = Collection && Collection.prototype;\n    if (proto && !proto[TO_STRING_TAG]) _hide(proto, TO_STRING_TAG, NAME);\n    _iterators[NAME] = _iterators.Array;\n  }\n\n  // true  -> String#at\n  // false -> String#codePointAt\n  var _stringAt = function _stringAt(TO_STRING) {\n    return function (that, pos) {\n      var s = String(_defined(that));\n      var i = _toInteger(pos);\n      var l = s.length;\n      var a, b;\n      if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n      a = s.charCodeAt(i);\n      return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff ? TO_STRING ? s.charAt(i) : a : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n    };\n  };\n\n  var $at = _stringAt(true);\n\n  // 21.1.3.27 String.prototype[@@iterator]()\n  _iterDefine(String, 'String', function (iterated) {\n    this._t = String(iterated); // target\n    this._i = 0; // next index\n    // 21.1.5.2.1 %StringIteratorPrototype%.next()\n  }, function () {\n    var O = this._t;\n    var index = this._i;\n    var point;\n    if (index >= O.length) return { value: undefined, done: true };\n    point = $at(O, index);\n    this._i += point.length;\n    return { value: point, done: false };\n  });\n\n  // getting tag from 19.1.3.6 Object.prototype.toString()\n\n  var TAG$1 = _wks('toStringTag');\n  // ES3 wrong here\n  var ARG = _cof(function () {\n    return arguments;\n  }()) == 'Arguments';\n\n  // fallback for IE11 Script Access Denied error\n  var tryGet = function tryGet(it, key) {\n    try {\n      return it[key];\n    } catch (e) {/* empty */}\n  };\n\n  var _classof = function _classof(it) {\n    var O, T, B;\n    return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG$1)) == 'string' ? T\n    // builtinTag case\n    : ARG ? _cof(O)\n    // ES3 arguments fallback\n    : (B = _cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n  };\n\n  var ITERATOR$1 = _wks('iterator');\n\n  var core_isIterable = _core.isIterable = function (it) {\n    var O = Object(it);\n    return O[ITERATOR$1] !== undefined || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || _iterators.hasOwnProperty(_classof(O));\n  };\n\n  var isIterable$2 = core_isIterable;\n\n  var isIterable = createCommonjsModule(function (module) {\n    module.exports = { \"default\": isIterable$2, __esModule: true };\n  });\n\n  unwrapExports(isIterable);\n\n  var ITERATOR$2 = _wks('iterator');\n\n  var core_getIteratorMethod = _core.getIteratorMethod = function (it) {\n    if (it != undefined) return it[ITERATOR$2] || it['@@iterator'] || _iterators[_classof(it)];\n  };\n\n  var core_getIterator = _core.getIterator = function (it) {\n    var iterFn = core_getIteratorMethod(it);\n    if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n    return _anObject(iterFn.call(it));\n  };\n\n  var getIterator$2 = core_getIterator;\n\n  var getIterator = createCommonjsModule(function (module) {\n    module.exports = { \"default\": getIterator$2, __esModule: true };\n  });\n\n  unwrapExports(getIterator);\n\n  var slicedToArray = createCommonjsModule(function (module, exports) {\n    exports.__esModule = true;\n\n    var _isIterable3 = _interopRequireDefault(isIterable);\n\n    var _getIterator3 = _interopRequireDefault(getIterator);\n\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n\n    exports.default = function () {\n      function sliceIterator(arr, i) {\n        var _arr = [];\n        var _n = true;\n        var _d = false;\n        var _e = undefined;\n\n        try {\n          for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n            _arr.push(_s.value);\n\n            if (i && _arr.length === i) break;\n          }\n        } catch (err) {\n          _d = true;\n          _e = err;\n        } finally {\n          try {\n            if (!_n && _i[\"return\"]) _i[\"return\"]();\n          } finally {\n            if (_d) throw _e;\n          }\n        }\n\n        return _arr;\n      }\n\n      return function (arr, i) {\n        if (Array.isArray(arr)) {\n          return arr;\n        } else if ((0, _isIterable3.default)(Object(arr))) {\n          return sliceIterator(arr, i);\n        } else {\n          throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n        }\n      };\n    }();\n  });\n\n  var _slicedToArray = unwrapExports(slicedToArray);\n\n  var classCallCheck = createCommonjsModule(function (module, exports) {\n    exports.__esModule = true;\n\n    exports.default = function (instance, Constructor) {\n      if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n      }\n    };\n  });\n\n  var _classCallCheck = unwrapExports(classCallCheck);\n\n  // 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n  _export(_export.S + _export.F * !_descriptors, 'Object', { defineProperty: _objectDp.f });\n\n  var $Object = _core.Object;\n  var defineProperty$2 = function defineProperty(it, key, desc) {\n    return $Object.defineProperty(it, key, desc);\n  };\n\n  var defineProperty = createCommonjsModule(function (module) {\n    module.exports = { \"default\": defineProperty$2, __esModule: true };\n  });\n\n  unwrapExports(defineProperty);\n\n  var createClass = createCommonjsModule(function (module, exports) {\n    exports.__esModule = true;\n\n    var _defineProperty2 = _interopRequireDefault(defineProperty);\n\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n\n    exports.default = function () {\n      function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n        }\n      }\n\n      return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) defineProperties(Constructor, staticProps);\n        return Constructor;\n      };\n    }();\n  });\n\n  var _createClass = unwrapExports(createClass);\n\n  var f$1 = _wks;\n\n  var _wksExt = {\n    f: f$1\n  };\n\n  var iterator$2 = _wksExt.f('iterator');\n\n  var iterator = createCommonjsModule(function (module) {\n    module.exports = { \"default\": iterator$2, __esModule: true };\n  });\n\n  unwrapExports(iterator);\n\n  var _meta = createCommonjsModule(function (module) {\n    var META = _uid('meta');\n\n    var setDesc = _objectDp.f;\n    var id = 0;\n    var isExtensible = Object.isExtensible || function () {\n      return true;\n    };\n    var FREEZE = !_fails(function () {\n      return isExtensible(Object.preventExtensions({}));\n    });\n    var setMeta = function setMeta(it) {\n      setDesc(it, META, { value: {\n          i: 'O' + ++id, // object ID\n          w: {} // weak collections IDs\n        } });\n    };\n    var fastKey = function fastKey(it, create) {\n      // return primitive with prefix\n      if (!_isObject(it)) return (typeof it === \"undefined\" ? \"undefined\" : _typeof2(it)) == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n      if (!_has(it, META)) {\n        // can't set metadata to uncaught frozen object\n        if (!isExtensible(it)) return 'F';\n        // not necessary to add metadata\n        if (!create) return 'E';\n        // add missing metadata\n        setMeta(it);\n        // return object ID\n      }return it[META].i;\n    };\n    var getWeak = function getWeak(it, create) {\n      if (!_has(it, META)) {\n        // can't set metadata to uncaught frozen object\n        if (!isExtensible(it)) return true;\n        // not necessary to add metadata\n        if (!create) return false;\n        // add missing metadata\n        setMeta(it);\n        // return hash weak collections IDs\n      }return it[META].w;\n    };\n    // add metadata on freeze-family methods calling\n    var onFreeze = function onFreeze(it) {\n      if (FREEZE && meta.NEED && isExtensible(it) && !_has(it, META)) setMeta(it);\n      return it;\n    };\n    var meta = module.exports = {\n      KEY: META,\n      NEED: false,\n      fastKey: fastKey,\n      getWeak: getWeak,\n      onFreeze: onFreeze\n    };\n  });\n\n  var _meta_1 = _meta.KEY;\n  var _meta_2 = _meta.NEED;\n  var _meta_3 = _meta.fastKey;\n  var _meta_4 = _meta.getWeak;\n  var _meta_5 = _meta.onFreeze;\n\n  var defineProperty$4 = _objectDp.f;\n  var _wksDefine = function _wksDefine(name) {\n    var $Symbol = _core.Symbol || (_core.Symbol = _library ? {} : _global.Symbol || {});\n    if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty$4($Symbol, name, { value: _wksExt.f(name) });\n  };\n\n  var f$2 = Object.getOwnPropertySymbols;\n\n  var _objectGops = {\n    f: f$2\n  };\n\n  var f$3 = {}.propertyIsEnumerable;\n\n  var _objectPie = {\n    f: f$3\n  };\n\n  // all enumerable object keys, includes symbols\n\n\n  var _enumKeys = function _enumKeys(it) {\n    var result = _objectKeys(it);\n    var getSymbols = _objectGops.f;\n    if (getSymbols) {\n      var symbols = getSymbols(it);\n      var isEnum = _objectPie.f;\n      var i = 0;\n      var key;\n      while (symbols.length > i) {\n        if (isEnum.call(it, key = symbols[i++])) result.push(key);\n      }\n    }return result;\n  };\n\n  // 7.2.2 IsArray(argument)\n\n  var _isArray = Array.isArray || function isArray(arg) {\n    return _cof(arg) == 'Array';\n  };\n\n  // 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\n\n  var hiddenKeys = _enumBugKeys.concat('length', 'prototype');\n\n  var f$5 = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n    return _objectKeysInternal(O, hiddenKeys);\n  };\n\n  var _objectGopn = {\n    f: f$5\n  };\n\n  // fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\n\n  var gOPN$1 = _objectGopn.f;\n  var toString$1 = {}.toString;\n\n  var windowNames = (typeof window === \"undefined\" ? \"undefined\" : _typeof2(window)) == 'object' && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];\n\n  var getWindowNames = function getWindowNames(it) {\n    try {\n      return gOPN$1(it);\n    } catch (e) {\n      return windowNames.slice();\n    }\n  };\n\n  var f$4 = function getOwnPropertyNames(it) {\n    return windowNames && toString$1.call(it) == '[object Window]' ? getWindowNames(it) : gOPN$1(_toIobject(it));\n  };\n\n  var _objectGopnExt = {\n    f: f$4\n  };\n\n  var gOPD$1 = Object.getOwnPropertyDescriptor;\n\n  var f$6 = _descriptors ? gOPD$1 : function getOwnPropertyDescriptor(O, P) {\n    O = _toIobject(O);\n    P = _toPrimitive(P, true);\n    if (_ie8DomDefine) try {\n      return gOPD$1(O, P);\n    } catch (e) {/* empty */}\n    if (_has(O, P)) return _propertyDesc(!_objectPie.f.call(O, P), O[P]);\n  };\n\n  var _objectGopd = {\n    f: f$6\n  };\n\n  // ECMAScript 6 symbols shim\n\n\n  var META = _meta.KEY;\n\n  var gOPD = _objectGopd.f;\n  var dP$2 = _objectDp.f;\n  var gOPN = _objectGopnExt.f;\n  var $Symbol = _global.Symbol;\n  var $JSON = _global.JSON;\n  var _stringify = $JSON && $JSON.stringify;\n  var PROTOTYPE$2 = 'prototype';\n  var HIDDEN = _wks('_hidden');\n  var TO_PRIMITIVE = _wks('toPrimitive');\n  var isEnum = {}.propertyIsEnumerable;\n  var SymbolRegistry = _shared('symbol-registry');\n  var AllSymbols = _shared('symbols');\n  var OPSymbols = _shared('op-symbols');\n  var ObjectProto$1 = Object[PROTOTYPE$2];\n  var USE_NATIVE = typeof $Symbol == 'function';\n  var QObject = _global.QObject;\n  // Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\n  var setter = !QObject || !QObject[PROTOTYPE$2] || !QObject[PROTOTYPE$2].findChild;\n\n  // fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\n  var setSymbolDesc = _descriptors && _fails(function () {\n    return _objectCreate(dP$2({}, 'a', {\n      get: function get() {\n        return dP$2(this, 'a', { value: 7 }).a;\n      }\n    })).a != 7;\n  }) ? function (it, key, D) {\n    var protoDesc = gOPD(ObjectProto$1, key);\n    if (protoDesc) delete ObjectProto$1[key];\n    dP$2(it, key, D);\n    if (protoDesc && it !== ObjectProto$1) dP$2(ObjectProto$1, key, protoDesc);\n  } : dP$2;\n\n  var wrap = function wrap(tag) {\n    var sym = AllSymbols[tag] = _objectCreate($Symbol[PROTOTYPE$2]);\n    sym._k = tag;\n    return sym;\n  };\n\n  var isSymbol = USE_NATIVE && _typeof2($Symbol.iterator) == 'symbol' ? function (it) {\n    return (typeof it === \"undefined\" ? \"undefined\" : _typeof2(it)) == 'symbol';\n  } : function (it) {\n    return it instanceof $Symbol;\n  };\n\n  var $defineProperty = function defineProperty(it, key, D) {\n    if (it === ObjectProto$1) $defineProperty(OPSymbols, key, D);\n    _anObject(it);\n    key = _toPrimitive(key, true);\n    _anObject(D);\n    if (_has(AllSymbols, key)) {\n      if (!D.enumerable) {\n        if (!_has(it, HIDDEN)) dP$2(it, HIDDEN, _propertyDesc(1, {}));\n        it[HIDDEN][key] = true;\n      } else {\n        if (_has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n        D = _objectCreate(D, { enumerable: _propertyDesc(0, false) });\n      }return setSymbolDesc(it, key, D);\n    }return dP$2(it, key, D);\n  };\n  var $defineProperties = function defineProperties(it, P) {\n    _anObject(it);\n    var keys = _enumKeys(P = _toIobject(P));\n    var i = 0;\n    var l = keys.length;\n    var key;\n    while (l > i) {\n      $defineProperty(it, key = keys[i++], P[key]);\n    }return it;\n  };\n  var $create = function create(it, P) {\n    return P === undefined ? _objectCreate(it) : $defineProperties(_objectCreate(it), P);\n  };\n  var $propertyIsEnumerable = function propertyIsEnumerable(key) {\n    var E = isEnum.call(this, key = _toPrimitive(key, true));\n    if (this === ObjectProto$1 && _has(AllSymbols, key) && !_has(OPSymbols, key)) return false;\n    return E || !_has(this, key) || !_has(AllSymbols, key) || _has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n  };\n  var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n    it = _toIobject(it);\n    key = _toPrimitive(key, true);\n    if (it === ObjectProto$1 && _has(AllSymbols, key) && !_has(OPSymbols, key)) return;\n    var D = gOPD(it, key);\n    if (D && _has(AllSymbols, key) && !(_has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n    return D;\n  };\n  var $getOwnPropertyNames = function getOwnPropertyNames(it) {\n    var names = gOPN(_toIobject(it));\n    var result = [];\n    var i = 0;\n    var key;\n    while (names.length > i) {\n      if (!_has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n    }return result;\n  };\n  var $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n    var IS_OP = it === ObjectProto$1;\n    var names = gOPN(IS_OP ? OPSymbols : _toIobject(it));\n    var result = [];\n    var i = 0;\n    var key;\n    while (names.length > i) {\n      if (_has(AllSymbols, key = names[i++]) && (IS_OP ? _has(ObjectProto$1, key) : true)) result.push(AllSymbols[key]);\n    }return result;\n  };\n\n  // 19.4.1.1 Symbol([description])\n  if (!USE_NATIVE) {\n    $Symbol = function _Symbol2() {\n      if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n      var tag = _uid(arguments.length > 0 ? arguments[0] : undefined);\n      var $set = function $set(value) {\n        if (this === ObjectProto$1) $set.call(OPSymbols, value);\n        if (_has(this, HIDDEN) && _has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n        setSymbolDesc(this, tag, _propertyDesc(1, value));\n      };\n      if (_descriptors && setter) setSymbolDesc(ObjectProto$1, tag, { configurable: true, set: $set });\n      return wrap(tag);\n    };\n    _redefine($Symbol[PROTOTYPE$2], 'toString', function toString() {\n      return this._k;\n    });\n\n    _objectGopd.f = $getOwnPropertyDescriptor;\n    _objectDp.f = $defineProperty;\n    _objectGopn.f = _objectGopnExt.f = $getOwnPropertyNames;\n    _objectPie.f = $propertyIsEnumerable;\n    _objectGops.f = $getOwnPropertySymbols;\n\n    if (_descriptors && !_library) {\n      _redefine(ObjectProto$1, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n    }\n\n    _wksExt.f = function (name) {\n      return wrap(_wks(name));\n    };\n  }\n\n  _export(_export.G + _export.W + _export.F * !USE_NATIVE, { Symbol: $Symbol });\n\n  for (var es6Symbols =\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'.split(','), j = 0; es6Symbols.length > j;) {\n    _wks(es6Symbols[j++]);\n  }for (var wellKnownSymbols = _objectKeys(_wks.store), k = 0; wellKnownSymbols.length > k;) {\n    _wksDefine(wellKnownSymbols[k++]);\n  }_export(_export.S + _export.F * !USE_NATIVE, 'Symbol', {\n    // 19.4.2.1 Symbol.for(key)\n    'for': function _for(key) {\n      return _has(SymbolRegistry, key += '') ? SymbolRegistry[key] : SymbolRegistry[key] = $Symbol(key);\n    },\n    // 19.4.2.5 Symbol.keyFor(sym)\n    keyFor: function keyFor(sym) {\n      if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n      for (var key in SymbolRegistry) {\n        if (SymbolRegistry[key] === sym) return key;\n      }\n    },\n    useSetter: function useSetter() {\n      setter = true;\n    },\n    useSimple: function useSimple() {\n      setter = false;\n    }\n  });\n\n  _export(_export.S + _export.F * !USE_NATIVE, 'Object', {\n    // 19.1.2.2 Object.create(O [, Properties])\n    create: $create,\n    // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n    defineProperty: $defineProperty,\n    // 19.1.2.3 Object.defineProperties(O, Properties)\n    defineProperties: $defineProperties,\n    // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n    getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n    // 19.1.2.7 Object.getOwnPropertyNames(O)\n    getOwnPropertyNames: $getOwnPropertyNames,\n    // 19.1.2.8 Object.getOwnPropertySymbols(O)\n    getOwnPropertySymbols: $getOwnPropertySymbols\n  });\n\n  // 24.3.2 JSON.stringify(value [, replacer [, space]])\n  $JSON && _export(_export.S + _export.F * (!USE_NATIVE || _fails(function () {\n    var S = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    // WebKit converts symbol values to JSON as null\n    // V8 throws on boxed symbols\n    return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n  })), 'JSON', {\n    stringify: function stringify(it) {\n      if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      var args = [it];\n      var i = 1;\n      var replacer, $replacer;\n      while (arguments.length > i) {\n        args.push(arguments[i++]);\n      }replacer = args[1];\n      if (typeof replacer == 'function') $replacer = replacer;\n      if ($replacer || !_isArray(replacer)) replacer = function replacer(key, value) {\n        if ($replacer) value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return _stringify.apply($JSON, args);\n    }\n  });\n\n  // 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n  $Symbol[PROTOTYPE$2][TO_PRIMITIVE] || _hide($Symbol[PROTOTYPE$2], TO_PRIMITIVE, $Symbol[PROTOTYPE$2].valueOf);\n  // 19.4.3.5 Symbol.prototype[@@toStringTag]\n  _setToStringTag($Symbol, 'Symbol');\n  // 20.2.1.9 Math[@@toStringTag]\n  _setToStringTag(Math, 'Math', true);\n  // 24.3.3 JSON[@@toStringTag]\n  _setToStringTag(_global.JSON, 'JSON', true);\n\n  _wksDefine('asyncIterator');\n\n  _wksDefine('observable');\n\n  var symbol$2 = _core.Symbol;\n\n  var symbol = createCommonjsModule(function (module) {\n    module.exports = { \"default\": symbol$2, __esModule: true };\n  });\n\n  unwrapExports(symbol);\n\n  var _typeof_1 = createCommonjsModule(function (module, exports) {\n    exports.__esModule = true;\n\n    var _iterator2 = _interopRequireDefault(iterator);\n\n    var _symbol2 = _interopRequireDefault(symbol);\n\n    var _typeof = typeof _symbol2.default === \"function\" && _typeof2(_iterator2.default) === \"symbol\" ? function (obj) {\n      return typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n    } : function (obj) {\n      return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n    };\n\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n\n    exports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n      return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n    } : function (obj) {\n      return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n    };\n  });\n\n  var _typeof = unwrapExports(_typeof_1);\n\n  // most Object methods by ES6 should accept primitives\n\n\n  var _objectSap = function _objectSap(KEY, exec) {\n    var fn = (_core.Object || {})[KEY] || Object[KEY];\n    var exp = {};\n    exp[KEY] = exec(fn);\n    _export(_export.S + _export.F * _fails(function () {\n      fn(1);\n    }), 'Object', exp);\n  };\n\n  // 19.1.2.14 Object.keys(O)\n\n\n  _objectSap('keys', function () {\n    return function keys(it) {\n      return _objectKeys(_toObject(it));\n    };\n  });\n\n  var keys$1 = _core.Object.keys;\n\n  var keys = createCommonjsModule(function (module) {\n    module.exports = { \"default\": keys$1, __esModule: true };\n  });\n\n  unwrapExports(keys);\n\n  // 20.1.2.3 Number.isInteger(number)\n\n  var floor$1 = Math.floor;\n  var _isInteger = function isInteger(it) {\n    return !_isObject(it) && isFinite(it) && floor$1(it) === it;\n  };\n\n  // 20.1.2.3 Number.isInteger(number)\n\n\n  _export(_export.S, 'Number', { isInteger: _isInteger });\n\n  var isInteger$2 = _core.Number.isInteger;\n\n  var isInteger$1 = createCommonjsModule(function (module) {\n    module.exports = { \"default\": isInteger$2, __esModule: true };\n  });\n\n  unwrapExports(isInteger$1);\n\n  var _stringWs = \"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\" + \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF\";\n\n  var space = '[' + _stringWs + ']';\n  var non = \"\\u200B\\x85\";\n  var ltrim = RegExp('^' + space + space + '*');\n  var rtrim = RegExp(space + space + '*$');\n\n  var exporter = function exporter(KEY, exec, ALIAS) {\n    var exp = {};\n    var FORCE = _fails(function () {\n      return !!_stringWs[KEY]() || non[KEY]() != non;\n    });\n    var fn = exp[KEY] = FORCE ? exec(trim) : _stringWs[KEY];\n    if (ALIAS) exp[ALIAS] = fn;\n    _export(_export.P + _export.F * FORCE, 'String', exp);\n  };\n\n  // 1 -> String#trimLeft\n  // 2 -> String#trimRight\n  // 3 -> String#trim\n  var trim = exporter.trim = function (string, TYPE) {\n    string = String(_defined(string));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n\n  var _stringTrim = exporter;\n\n  var $parseFloat = _global.parseFloat;\n  var $trim = _stringTrim.trim;\n\n  var _parseFloat$3 = 1 / $parseFloat(_stringWs + '-0') !== -Infinity ? function parseFloat(str) {\n    var string = $trim(String(str), 3);\n    var result = $parseFloat(string);\n    return result === 0 && string.charAt(0) == '-' ? -0 : result;\n  } : $parseFloat;\n\n  // 20.1.2.12 Number.parseFloat(string)\n  _export(_export.S + _export.F * (Number.parseFloat != _parseFloat$3), 'Number', { parseFloat: _parseFloat$3 });\n\n  var _parseFloat$1 = parseFloat;\n\n  var _parseFloat = createCommonjsModule(function (module) {\n    module.exports = { \"default\": _parseFloat$1, __esModule: true };\n  });\n\n  unwrapExports(_parseFloat);\n\n  /**\n   * toxic-predicate-functions v0.1.5\n   * (c) 2017 toxic-johann\n   * Released under MIT\n   */\n\n  /**\n   * is void element or not ? Means it will return true when val is undefined or null\n   */\n  function isVoid(obj) {\n    return obj === undefined || obj === null;\n  }\n  /**\n   * to check whether a variable is array\n   */\n  function isArray$1(arr) {\n    return Array.isArray(arr);\n  }\n\n  /**\n   * is it a function or not\n   */\n  function isFunction(obj) {\n    return typeof obj === 'function';\n  }\n\n  /**\n   * is it an object or not\n   */\n  function isObject$1(obj) {\n    // incase of arrow function and array\n    return Object(obj) === obj && String(obj) === '[object Object]' && !isFunction(obj) && !isArray$1(obj);\n  }\n  /**\n   * to tell you if it's a real number\n   */\n  function isNumber(obj) {\n    return typeof obj === 'number';\n  }\n  /**\n   * is it a string\n   */\n  function isString(str) {\n    return typeof str === 'string' || str instanceof String;\n  }\n  /**\n   * is Boolean or not\n   */\n  function isBoolean(bool) {\n    return typeof bool === 'boolean';\n  }\n  /**\n   * is Primitive type or not, whick means it will return true when data is number/string/boolean/undefined/null\n   */\n  function isPrimitive(val) {\n    return isVoid(val) || isBoolean(val) || isString(val) || isNumber(val);\n  }\n\n  /**\n   * chimee-helper-log v0.1.2\n   * (c) 2017 toxic-johann\n   * Released under MIT\n   */\n\n  function formatter(tag, msg) {\n    if (!isString(tag)) throw new TypeError('Log\\'s method only acccept string as argument, but not ' + tag + ' in ' + (typeof tag === 'undefined' ? 'undefined' : _typeof(tag)));\n    if (!isString(msg)) return '[' + Log.GLOBAL_TAG + '] > ' + tag;\n    tag = Log.FORCE_GLOBAL_TAG ? Log.GLOBAL_TAG : tag || Log.GLOBAL_TAG;\n    return '[' + tag + '] > ' + msg;\n  }\n  /**\n   * Log Object\n   */\n\n  var Log = function () {\n    function Log() {\n      _classCallCheck(this, Log);\n    }\n\n    _createClass(Log, null, [{\n      key: 'error',\n\n      /**\n       * equal to console.error, output `[${tag}] > {$msg}`\n       * @param {string} tag optional, the header of log \n       * @param {string} msg the message\n       */\n\n      /**\n       * @member {boolean}\n       */\n\n      /**\n       * @member {boolean}\n       */\n\n      /**\n       * @member {boolean}\n       */\n      value: function error(tag, msg) {\n        if (!Log.ENABLE_ERROR) {\n          return;\n        }\n\n        (console.error || console.warn || console.log)(formatter(tag, msg));\n      }\n      /**\n       * equal to console.info, output `[${tag}] > {$msg}`\n       * @param {string} tag optional, the header of log \n       * @param {string} msg the message\n       */\n\n      /**\n       * @member {boolean}\n       */\n\n      /**\n       * @member {boolean}\n       */\n\n      /**\n       * @member {boolean}\n       */\n\n      /**\n       * @member {string}\n       */\n\n    }, {\n      key: 'info',\n      value: function info(tag, msg) {\n        if (!Log.ENABLE_INFO) {\n          return;\n        }\n        (console.info || console.log)(formatter(tag, msg));\n      }\n      /**\n       * equal to console.warn, output `[${tag}] > {$msg}`\n       * @param {string} tag optional, the header of log \n       * @param {string} msg the message\n       */\n\n    }, {\n      key: 'warn',\n      value: function warn(tag, msg) {\n        if (!Log.ENABLE_WARN) {\n          return;\n        }\n        (console.warn || console.log)(formatter(tag, msg));\n      }\n      /**\n       * equal to console.debug, output `[${tag}] > {$msg}`\n       * @param {string} tag optional, the header of log \n       * @param {string} msg the message\n       */\n\n    }, {\n      key: 'debug',\n      value: function debug(tag, msg) {\n        if (!Log.ENABLE_DEBUG) {\n          return;\n        }\n        (console.debug || console.log)(formatter(tag, msg));\n      }\n      /**\n       * equal to console.verbose, output `[${tag}] > {$msg}`\n       * @param {string} tag optional, the header of log \n       * @param {string} msg the message\n       */\n\n    }, {\n      key: 'verbose',\n      value: function verbose(tag, msg) {\n        if (!Log.ENABLE_VERBOSE) {\n          return;\n        }\n        console.log(formatter(tag, msg));\n      }\n    }]);\n\n    return Log;\n  }();\n\n  Log.GLOBAL_TAG = 'chimee';\n  Log.FORCE_GLOBAL_TAG = false;\n  Log.ENABLE_ERROR = true;\n  Log.ENABLE_INFO = true;\n  Log.ENABLE_WARN = true;\n  Log.ENABLE_DEBUG = true;\n  Log.ENABLE_VERBOSE = true;\n\n  var uaParser = createCommonjsModule(function (module, exports) {\n    /**\n     * UAParser.js v0.7.17\n     * Lightweight JavaScript-based User-Agent string parser\n     * https://github.com/faisalman/ua-parser-js\n     *\n     * Copyright © 2012-2016 Faisal Salman <fyzlman@gmail.com>\n     * Dual licensed under GPLv2 & MIT\n     */\n\n    (function (window, undefined) {\n\n      var LIBVERSION = '0.7.17',\n          EMPTY = '',\n          UNKNOWN = '?',\n          FUNC_TYPE = 'function',\n          UNDEF_TYPE = 'undefined',\n          OBJ_TYPE = 'object',\n          STR_TYPE = 'string',\n          MAJOR = 'major',\n          // deprecated\n      MODEL = 'model',\n          NAME = 'name',\n          TYPE = 'type',\n          VENDOR = 'vendor',\n          VERSION = 'version',\n          ARCHITECTURE = 'architecture',\n          CONSOLE = 'console',\n          MOBILE = 'mobile',\n          TABLET = 'tablet',\n          SMARTTV = 'smarttv',\n          WEARABLE = 'wearable',\n          EMBEDDED = 'embedded';\n\n      ///////////\n      // Helper\n      //////////\n\n\n      var util = {\n        extend: function extend(regexes, extensions) {\n          var margedRegexes = {};\n          for (var i in regexes) {\n            if (extensions[i] && extensions[i].length % 2 === 0) {\n              margedRegexes[i] = extensions[i].concat(regexes[i]);\n            } else {\n              margedRegexes[i] = regexes[i];\n            }\n          }\n          return margedRegexes;\n        },\n        has: function has(str1, str2) {\n          if (typeof str1 === \"string\") {\n            return str2.toLowerCase().indexOf(str1.toLowerCase()) !== -1;\n          } else {\n            return false;\n          }\n        },\n        lowerize: function lowerize(str) {\n          return str.toLowerCase();\n        },\n        major: function major(version) {\n          return (typeof version === \"undefined\" ? \"undefined\" : _typeof2(version)) === STR_TYPE ? version.replace(/[^\\d\\.]/g, '').split(\".\")[0] : undefined;\n        },\n        trim: function trim(str) {\n          return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n        }\n      };\n\n      ///////////////\n      // Map helper\n      //////////////\n\n\n      var mapper = {\n\n        rgx: function rgx(ua, arrays) {\n\n          //var result = {},\n          var i = 0,\n              j,\n              k,\n              p,\n              q,\n              matches,\n              match; //, args = arguments;\n\n          /*// construct object barebones\n          for (p = 0; p < args[1].length; p++) {\n              q = args[1][p];\n              result[typeof q === OBJ_TYPE ? q[0] : q] = undefined;\n          }*/\n\n          // loop through all regexes maps\n          while (i < arrays.length && !matches) {\n\n            var regex = arrays[i],\n                // even sequence (0,2,4,..)\n            props = arrays[i + 1]; // odd sequence (1,3,5,..)\n            j = k = 0;\n\n            // try matching uastring with regexes\n            while (j < regex.length && !matches) {\n\n              matches = regex[j++].exec(ua);\n\n              if (!!matches) {\n                for (p = 0; p < props.length; p++) {\n                  match = matches[++k];\n                  q = props[p];\n                  // check if given property is actually array\n                  if ((typeof q === \"undefined\" ? \"undefined\" : _typeof2(q)) === OBJ_TYPE && q.length > 0) {\n                    if (q.length == 2) {\n                      if (_typeof2(q[1]) == FUNC_TYPE) {\n                        // assign modified match\n                        this[q[0]] = q[1].call(this, match);\n                      } else {\n                        // assign given value, ignore regex match\n                        this[q[0]] = q[1];\n                      }\n                    } else if (q.length == 3) {\n                      // check whether function or regex\n                      if (_typeof2(q[1]) === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                        // call function (usually string mapper)\n                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                      } else {\n                        // sanitize match using given regex\n                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                      }\n                    } else if (q.length == 4) {\n                      this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                    }\n                  } else {\n                    this[q] = match ? match : undefined;\n                  }\n                }\n              }\n            }\n            i += 2;\n          }\n          // console.log(this);\n          //return this;\n        },\n\n        str: function str(_str, map) {\n\n          for (var i in map) {\n            // check if array\n            if (_typeof2(map[i]) === OBJ_TYPE && map[i].length > 0) {\n              for (var j = 0; j < map[i].length; j++) {\n                if (util.has(map[i][j], _str)) {\n                  return i === UNKNOWN ? undefined : i;\n                }\n              }\n            } else if (util.has(map[i], _str)) {\n              return i === UNKNOWN ? undefined : i;\n            }\n          }\n          return _str;\n        }\n      };\n\n      ///////////////\n      // String map\n      //////////////\n\n\n      var maps = {\n\n        browser: {\n          oldsafari: {\n            version: {\n              '1.0': '/8',\n              '1.2': '/1',\n              '1.3': '/3',\n              '2.0': '/412',\n              '2.0.2': '/416',\n              '2.0.3': '/417',\n              '2.0.4': '/419',\n              '?': '/'\n            }\n          }\n        },\n\n        device: {\n          amazon: {\n            model: {\n              'Fire Phone': ['SD', 'KF']\n            }\n          },\n          sprint: {\n            model: {\n              'Evo Shift 4G': '7373KT'\n            },\n            vendor: {\n              'HTC': 'APA',\n              'Sprint': 'Sprint'\n            }\n          }\n        },\n\n        os: {\n          windows: {\n            version: {\n              'ME': '4.90',\n              'NT 3.11': 'NT3.51',\n              'NT 4.0': 'NT4.0',\n              '2000': 'NT 5.0',\n              'XP': ['NT 5.1', 'NT 5.2'],\n              'Vista': 'NT 6.0',\n              '7': 'NT 6.1',\n              '8': 'NT 6.2',\n              '8.1': 'NT 6.3',\n              '10': ['NT 6.4', 'NT 10.0'],\n              'RT': 'ARM'\n            }\n          }\n        }\n      };\n\n      //////////////\n      // Regex map\n      /////////////\n\n\n      var regexes = {\n\n        browser: [[\n\n        // Presto based\n        /(opera\\smini)\\/([\\w\\.-]+)/i, // Opera Mini\n        /(opera\\s[mobiletab]+).+version\\/([\\w\\.-]+)/i, // Opera Mobi/Tablet\n        /(opera).+version\\/([\\w\\.]+)/i, // Opera > 9.80\n        /(opera)[\\/\\s]+([\\w\\.]+)/i // Opera < 9.80\n        ], [NAME, VERSION], [/(opios)[\\/\\s]+([\\w\\.]+)/i // Opera mini on iphone >= 8.0\n        ], [[NAME, 'Opera Mini'], VERSION], [/\\s(opr)\\/([\\w\\.]+)/i // Opera Webkit\n        ], [[NAME, 'Opera'], VERSION], [\n\n        // Mixed\n        /(kindle)\\/([\\w\\.]+)/i, // Kindle\n        /(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?([\\w\\.]+)*/i,\n        // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n\n        // Trident based\n        /(avant\\s|iemobile|slim|baidu)(?:browser)?[\\/\\s]?([\\w\\.]*)/i,\n        // Avant/IEMobile/SlimBrowser/Baidu\n        /(?:ms|\\()(ie)\\s([\\w\\.]+)/i, // Internet Explorer\n\n        // Webkit/KHTML based\n        /(rekonq)\\/([\\w\\.]+)*/i, // Rekonq\n        /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\\/([\\w\\.-]+)/i\n        // Chromium/Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser\n        ], [NAME, VERSION], [/(trident).+rv[:\\s]([\\w\\.]+).+like\\sgecko/i // IE11\n        ], [[NAME, 'IE'], VERSION], [/(edge)\\/((\\d+)?[\\w\\.]+)/i // Microsoft Edge\n        ], [NAME, VERSION], [/(yabrowser)\\/([\\w\\.]+)/i // Yandex\n        ], [[NAME, 'Yandex'], VERSION], [/(puffin)\\/([\\w\\.]+)/i // Puffin\n        ], [[NAME, 'Puffin'], VERSION], [/((?:[\\s\\/])uc?\\s?browser|(?:juc.+)ucweb)[\\/\\s]?([\\w\\.]+)/i\n        // UCBrowser\n        ], [[NAME, 'UCBrowser'], VERSION], [/(comodo_dragon)\\/([\\w\\.]+)/i // Comodo Dragon\n        ], [[NAME, /_/g, ' '], VERSION], [/(micromessenger)\\/([\\w\\.]+)/i // WeChat\n        ], [[NAME, 'WeChat'], VERSION], [/(QQ)\\/([\\d\\.]+)/i // QQ, aka ShouQ\n        ], [NAME, VERSION], [/m?(qqbrowser)[\\/\\s]?([\\w\\.]+)/i // QQBrowser\n        ], [NAME, VERSION], [/xiaomi\\/miuibrowser\\/([\\w\\.]+)/i // MIUI Browser\n        ], [VERSION, [NAME, 'MIUI Browser']], [/;fbav\\/([\\w\\.]+);/i // Facebook App for iOS & Android\n        ], [VERSION, [NAME, 'Facebook']], [/headlesschrome(?:\\/([\\w\\.]+)|\\s)/i // Chrome Headless\n        ], [VERSION, [NAME, 'Chrome Headless']], [/\\swv\\).+(chrome)\\/([\\w\\.]+)/i // Chrome WebView\n        ], [[NAME, /(.+)/, '$1 WebView'], VERSION], [/((?:oculus|samsung)browser)\\/([\\w\\.]+)/i], [[NAME, /(.+(?:g|us))(.+)/, '$1 $2'], VERSION], [// Oculus / Samsung Browser\n\n        /android.+version\\/([\\w\\.]+)\\s+(?:mobile\\s?safari|safari)*/i // Android Browser\n        ], [VERSION, [NAME, 'Android Browser']], [/(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?([\\w\\.]+)/i\n        // Chrome/OmniWeb/Arora/Tizen/Nokia\n        ], [NAME, VERSION], [/(dolfin)\\/([\\w\\.]+)/i // Dolphin\n        ], [[NAME, 'Dolphin'], VERSION], [/((?:android.+)crmo|crios)\\/([\\w\\.]+)/i // Chrome for Android/iOS\n        ], [[NAME, 'Chrome'], VERSION], [/(coast)\\/([\\w\\.]+)/i // Opera Coast\n        ], [[NAME, 'Opera Coast'], VERSION], [/fxios\\/([\\w\\.-]+)/i // Firefox for iOS\n        ], [VERSION, [NAME, 'Firefox']], [/version\\/([\\w\\.]+).+?mobile\\/\\w+\\s(safari)/i // Mobile Safari\n        ], [VERSION, [NAME, 'Mobile Safari']], [/version\\/([\\w\\.]+).+?(mobile\\s?safari|safari)/i // Safari & Safari Mobile\n        ], [VERSION, NAME], [/webkit.+?(gsa)\\/([\\w\\.]+).+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i // Google Search Appliance on iOS\n        ], [[NAME, 'GSA'], VERSION], [/webkit.+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i // Safari < 3.0\n        ], [NAME, [VERSION, mapper.str, maps.browser.oldsafari.version]], [/(konqueror)\\/([\\w\\.]+)/i, // Konqueror\n        /(webkit|khtml)\\/([\\w\\.]+)/i], [NAME, VERSION], [\n\n        // Gecko based\n        /(navigator|netscape)\\/([\\w\\.-]+)/i // Netscape\n        ], [[NAME, 'Netscape'], VERSION], [/(swiftfox)/i, // Swiftfox\n        /(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?([\\w\\.\\+]+)/i,\n        // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n        /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\\/([\\w\\.-]+)/i,\n        // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n        /(mozilla)\\/([\\w\\.]+).+rv\\:.+gecko\\/\\d+/i, // Mozilla\n\n        // Other\n        /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\\/\\s]?([\\w\\.]+)/i,\n        // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir\n        /(links)\\s\\(([\\w\\.]+)/i, // Links\n        /(gobrowser)\\/?([\\w\\.]+)*/i, // GoBrowser\n        /(ice\\s?browser)\\/v?([\\w\\._]+)/i, // ICE Browser\n        /(mosaic)[\\/\\s]([\\w\\.]+)/i // Mosaic\n        ], [NAME, VERSION]\n\n        /* /////////////////////\n        // Media players BEGIN\n        ////////////////////////\n         , [\n         /(apple(?:coremedia|))\\/((\\d+)[\\w\\._]+)/i,                          // Generic Apple CoreMedia\n        /(coremedia) v((\\d+)[\\w\\._]+)/i\n        ], [NAME, VERSION], [\n         /(aqualung|lyssna|bsplayer)\\/((\\d+)?[\\w\\.-]+)/i                     // Aqualung/Lyssna/BSPlayer\n        ], [NAME, VERSION], [\n         /(ares|ossproxy)\\s((\\d+)[\\w\\.-]+)/i                                 // Ares/OSSProxy\n        ], [NAME, VERSION], [\n         /(audacious|audimusicstream|amarok|bass|core|dalvik|gnomemplayer|music on console|nsplayer|psp-internetradioplayer|videos)\\/((\\d+)[\\w\\.-]+)/i,\n                                                                            // Audacious/AudiMusicStream/Amarok/BASS/OpenCORE/Dalvik/GnomeMplayer/MoC\n                                                                            // NSPlayer/PSP-InternetRadioPlayer/Videos\n        /(clementine|music player daemon)\\s((\\d+)[\\w\\.-]+)/i,               // Clementine/MPD\n        /(lg player|nexplayer)\\s((\\d+)[\\d\\.]+)/i,\n        /player\\/(nexplayer|lg player)\\s((\\d+)[\\w\\.-]+)/i                   // NexPlayer/LG Player\n        ], [NAME, VERSION], [\n        /(nexplayer)\\s((\\d+)[\\w\\.-]+)/i                                     // Nexplayer\n        ], [NAME, VERSION], [\n         /(flrp)\\/((\\d+)[\\w\\.-]+)/i                                          // Flip Player\n        ], [[NAME, 'Flip Player'], VERSION], [\n         /(fstream|nativehost|queryseekspider|ia-archiver|facebookexternalhit)/i\n                                                                            // FStream/NativeHost/QuerySeekSpider/IA Archiver/facebookexternalhit\n        ], [NAME], [\n         /(gstreamer) souphttpsrc (?:\\([^\\)]+\\)){0,1} libsoup\\/((\\d+)[\\w\\.-]+)/i\n                                                                            // Gstreamer\n        ], [NAME, VERSION], [\n         /(htc streaming player)\\s[\\w_]+\\s\\/\\s((\\d+)[\\d\\.]+)/i,              // HTC Streaming Player\n        /(java|python-urllib|python-requests|wget|libcurl)\\/((\\d+)[\\w\\.-_]+)/i,\n                                                                            // Java/urllib/requests/wget/cURL\n        /(lavf)((\\d+)[\\d\\.]+)/i                                             // Lavf (FFMPEG)\n        ], [NAME, VERSION], [\n         /(htc_one_s)\\/((\\d+)[\\d\\.]+)/i                                      // HTC One S\n        ], [[NAME, /_/g, ' '], VERSION], [\n         /(mplayer)(?:\\s|\\/)(?:(?:sherpya-){0,1}svn)(?:-|\\s)(r\\d+(?:-\\d+[\\w\\.-]+){0,1})/i\n                                                                            // MPlayer SVN\n        ], [NAME, VERSION], [\n         /(mplayer)(?:\\s|\\/|[unkow-]+)((\\d+)[\\w\\.-]+)/i                      // MPlayer\n        ], [NAME, VERSION], [\n         /(mplayer)/i,                                                       // MPlayer (no other info)\n        /(yourmuze)/i,                                                      // YourMuze\n        /(media player classic|nero showtime)/i                             // Media Player Classic/Nero ShowTime\n        ], [NAME], [\n         /(nero (?:home|scout))\\/((\\d+)[\\w\\.-]+)/i                           // Nero Home/Nero Scout\n        ], [NAME, VERSION], [\n         /(nokia\\d+)\\/((\\d+)[\\w\\.-]+)/i                                      // Nokia\n        ], [NAME, VERSION], [\n         /\\s(songbird)\\/((\\d+)[\\w\\.-]+)/i                                    // Songbird/Philips-Songbird\n        ], [NAME, VERSION], [\n         /(winamp)3 version ((\\d+)[\\w\\.-]+)/i,                               // Winamp\n        /(winamp)\\s((\\d+)[\\w\\.-]+)/i,\n        /(winamp)mpeg\\/((\\d+)[\\w\\.-]+)/i\n        ], [NAME, VERSION], [\n         /(ocms-bot|tapinradio|tunein radio|unknown|winamp|inlight radio)/i  // OCMS-bot/tap in radio/tunein/unknown/winamp (no other info)\n                                                                            // inlight radio\n        ], [NAME], [\n         /(quicktime|rma|radioapp|radioclientapplication|soundtap|totem|stagefright|streamium)\\/((\\d+)[\\w\\.-]+)/i\n                                                                            // QuickTime/RealMedia/RadioApp/RadioClientApplication/\n                                                                            // SoundTap/Totem/Stagefright/Streamium\n        ], [NAME, VERSION], [\n         /(smp)((\\d+)[\\d\\.]+)/i                                              // SMP\n        ], [NAME, VERSION], [\n         /(vlc) media player - version ((\\d+)[\\w\\.]+)/i,                     // VLC Videolan\n        /(vlc)\\/((\\d+)[\\w\\.-]+)/i,\n        /(xbmc|gvfs|xine|xmms|irapp)\\/((\\d+)[\\w\\.-]+)/i,                    // XBMC/gvfs/Xine/XMMS/irapp\n        /(foobar2000)\\/((\\d+)[\\d\\.]+)/i,                                    // Foobar2000\n        /(itunes)\\/((\\d+)[\\d\\.]+)/i                                         // iTunes\n        ], [NAME, VERSION], [\n         /(wmplayer)\\/((\\d+)[\\w\\.-]+)/i,                                     // Windows Media Player\n        /(windows-media-player)\\/((\\d+)[\\w\\.-]+)/i\n        ], [[NAME, /-/g, ' '], VERSION], [\n         /windows\\/((\\d+)[\\w\\.-]+) upnp\\/[\\d\\.]+ dlnadoc\\/[\\d\\.]+ (home media server)/i\n                                                                            // Windows Media Server\n        ], [VERSION, [NAME, 'Windows']], [\n         /(com\\.riseupradioalarm)\\/((\\d+)[\\d\\.]*)/i                          // RiseUP Radio Alarm\n        ], [NAME, VERSION], [\n         /(rad.io)\\s((\\d+)[\\d\\.]+)/i,                                        // Rad.io\n        /(radio.(?:de|at|fr))\\s((\\d+)[\\d\\.]+)/i\n        ], [[NAME, 'rad.io'], VERSION]\n         //////////////////////\n        // Media players END\n        ////////////////////*/\n\n        ],\n\n        cpu: [[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\\)]/i // AMD64\n        ], [[ARCHITECTURE, 'amd64']], [/(ia32(?=;))/i // IA32 (quicktime)\n        ], [[ARCHITECTURE, util.lowerize]], [/((?:i[346]|x)86)[;\\)]/i // IA32\n        ], [[ARCHITECTURE, 'ia32']], [\n\n        // PocketPC mistakenly identified as PowerPC\n        /windows\\s(ce|mobile);\\sppc;/i], [[ARCHITECTURE, 'arm']], [/((?:ppc|powerpc)(?:64)?)(?:\\smac|;|\\))/i // PowerPC\n        ], [[ARCHITECTURE, /ower/, '', util.lowerize]], [/(sun4\\w)[;\\)]/i // SPARC\n        ], [[ARCHITECTURE, 'sparc']], [/((?:avr32|ia64(?=;))|68k(?=\\))|arm(?:64|(?=v\\d+;))|(?=atmel\\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i\n        // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n        ], [[ARCHITECTURE, util.lowerize]]],\n\n        device: [[/\\((ipad|playbook);[\\w\\s\\);-]+(rim|apple)/i // iPad/PlayBook\n        ], [MODEL, VENDOR, [TYPE, TABLET]], [/applecoremedia\\/[\\w\\.]+ \\((ipad)/ // iPad\n        ], [MODEL, [VENDOR, 'Apple'], [TYPE, TABLET]], [/(apple\\s{0,1}tv)/i // Apple TV\n        ], [[MODEL, 'Apple TV'], [VENDOR, 'Apple']], [/(archos)\\s(gamepad2?)/i, // Archos\n        /(hp).+(touchpad)/i, // HP TouchPad\n        /(hp).+(tablet)/i, // HP Tablet\n        /(kindle)\\/([\\w\\.]+)/i, // Kindle\n        /\\s(nook)[\\w\\s]+build\\/(\\w+)/i, // Nook\n        /(dell)\\s(strea[kpr\\s\\d]*[\\dko])/i // Dell Streak\n        ], [VENDOR, MODEL, [TYPE, TABLET]], [/(kf[A-z]+)\\sbuild\\/[\\w\\.]+.*silk\\//i // Kindle Fire HD\n        ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [/(sd|kf)[0349hijorstuw]+\\sbuild\\/[\\w\\.]+.*silk\\//i // Fire Phone\n        ], [[MODEL, mapper.str, maps.device.amazon.model], [VENDOR, 'Amazon'], [TYPE, MOBILE]], [/\\((ip[honed|\\s\\w*]+);.+(apple)/i // iPod/iPhone\n        ], [MODEL, VENDOR, [TYPE, MOBILE]], [/\\((ip[honed|\\s\\w*]+);/i // iPod/iPhone\n        ], [MODEL, [VENDOR, 'Apple'], [TYPE, MOBILE]], [/(blackberry)[\\s-]?(\\w+)/i, // BlackBerry\n        /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\\s_-]?([\\w-]+)*/i,\n        // BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n        /(hp)\\s([\\w\\s]+\\w)/i, // HP iPAQ\n        /(asus)-?(\\w+)/i // Asus\n        ], [VENDOR, MODEL, [TYPE, MOBILE]], [/\\(bb10;\\s(\\w+)/i // BlackBerry 10\n        ], [MODEL, [VENDOR, 'BlackBerry'], [TYPE, MOBILE]], [\n        // Asus Tablets\n        /android.+(transfo[prime\\s]{4,10}\\s\\w+|eeepc|slider\\s\\w+|nexus 7|padfone)/i], [MODEL, [VENDOR, 'Asus'], [TYPE, TABLET]], [/(sony)\\s(tablet\\s[ps])\\sbuild\\//i, // Sony\n        /(sony)?(?:sgp.+)\\sbuild\\//i], [[VENDOR, 'Sony'], [MODEL, 'Xperia Tablet'], [TYPE, TABLET]], [/android.+\\s([c-g]\\d{4}|so[-l]\\w+)\\sbuild\\//i], [MODEL, [VENDOR, 'Sony'], [TYPE, MOBILE]], [/\\s(ouya)\\s/i, // Ouya\n        /(nintendo)\\s([wids3u]+)/i // Nintendo\n        ], [VENDOR, MODEL, [TYPE, CONSOLE]], [/android.+;\\s(shield)\\sbuild/i // Nvidia\n        ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [/(playstation\\s[34portablevi]+)/i // Playstation\n        ], [MODEL, [VENDOR, 'Sony'], [TYPE, CONSOLE]], [/(sprint\\s(\\w+))/i // Sprint Phones\n        ], [[VENDOR, mapper.str, maps.device.sprint.vendor], [MODEL, mapper.str, maps.device.sprint.model], [TYPE, MOBILE]], [/(lenovo)\\s?(S(?:5000|6000)+(?:[-][\\w+]))/i // Lenovo tablets\n        ], [VENDOR, MODEL, [TYPE, TABLET]], [/(htc)[;_\\s-]+([\\w\\s]+(?=\\))|\\w+)*/i, // HTC\n        /(zte)-(\\w+)*/i, // ZTE\n        /(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\\s)sony)[_\\s-]?([\\w-]+)*/i\n        // Alcatel/GeeksPhone/Lenovo/Nexian/Panasonic/Sony\n        ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [/(nexus\\s9)/i // HTC Nexus 9\n        ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [/d\\/huawei([\\w\\s-]+)[;\\)]/i, /(nexus\\s6p)/i // Huawei\n        ], [MODEL, [VENDOR, 'Huawei'], [TYPE, MOBILE]], [/(microsoft);\\s(lumia[\\s\\w]+)/i // Microsoft Lumia\n        ], [VENDOR, MODEL, [TYPE, MOBILE]], [/[\\s\\(;](xbox(?:\\sone)?)[\\s\\);]/i // Microsoft Xbox\n        ], [MODEL, [VENDOR, 'Microsoft'], [TYPE, CONSOLE]], [/(kin\\.[onetw]{3})/i // Microsoft Kin\n        ], [[MODEL, /\\./g, ' '], [VENDOR, 'Microsoft'], [TYPE, MOBILE]], [\n\n        // Motorola\n        /\\s(milestone|droid(?:[2-4x]|\\s(?:bionic|x2|pro|razr))?(:?\\s4g)?)[\\w\\s]+build\\//i, /mot[\\s-]?(\\w+)*/i, /(XT\\d{3,4}) build\\//i, /(nexus\\s6)/i], [MODEL, [VENDOR, 'Motorola'], [TYPE, MOBILE]], [/android.+\\s(mz60\\d|xoom[\\s2]{0,2})\\sbuild\\//i], [MODEL, [VENDOR, 'Motorola'], [TYPE, TABLET]], [/hbbtv\\/\\d+\\.\\d+\\.\\d+\\s+\\([\\w\\s]*;\\s*(\\w[^;]*);([^;]*)/i // HbbTV devices\n        ], [[VENDOR, util.trim], [MODEL, util.trim], [TYPE, SMARTTV]], [/hbbtv.+maple;(\\d+)/i], [[MODEL, /^/, 'SmartTV'], [VENDOR, 'Samsung'], [TYPE, SMARTTV]], [/\\(dtv[\\);].+(aquos)/i // Sharp\n        ], [MODEL, [VENDOR, 'Sharp'], [TYPE, SMARTTV]], [/android.+((sch-i[89]0\\d|shw-m380s|gt-p\\d{4}|gt-n\\d+|sgh-t8[56]9|nexus 10))/i, /((SM-T\\w+))/i], [[VENDOR, 'Samsung'], MODEL, [TYPE, TABLET]], [// Samsung\n        /smart-tv.+(samsung)/i], [VENDOR, [TYPE, SMARTTV], MODEL], [/((s[cgp]h-\\w+|gt-\\w+|galaxy\\snexus|sm-\\w[\\w\\d]+))/i, /(sam[sung]*)[\\s-]*(\\w+-?[\\w-]*)*/i, /sec-((sgh\\w+))/i], [[VENDOR, 'Samsung'], MODEL, [TYPE, MOBILE]], [/sie-(\\w+)*/i // Siemens\n        ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [/(maemo|nokia).*(n900|lumia\\s\\d+)/i, // Nokia\n        /(nokia)[\\s_-]?([\\w-]+)*/i], [[VENDOR, 'Nokia'], MODEL, [TYPE, MOBILE]], [/android\\s3\\.[\\s\\w;-]{10}(a\\d{3})/i // Acer\n        ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [/android.+([vl]k\\-?\\d{3})\\s+build/i // LG Tablet\n        ], [MODEL, [VENDOR, 'LG'], [TYPE, TABLET]], [/android\\s3\\.[\\s\\w;-]{10}(lg?)-([06cv9]{3,4})/i // LG Tablet\n        ], [[VENDOR, 'LG'], MODEL, [TYPE, TABLET]], [/(lg) netcast\\.tv/i // LG SmartTV\n        ], [VENDOR, MODEL, [TYPE, SMARTTV]], [/(nexus\\s[45])/i, // LG\n        /lg[e;\\s\\/-]+(\\w+)*/i, /android.+lg(\\-?[\\d\\w]+)\\s+build/i], [MODEL, [VENDOR, 'LG'], [TYPE, MOBILE]], [/android.+(ideatab[a-z0-9\\-\\s]+)/i // Lenovo\n        ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [/linux;.+((jolla));/i // Jolla\n        ], [VENDOR, MODEL, [TYPE, MOBILE]], [/((pebble))app\\/[\\d\\.]+\\s/i // Pebble\n        ], [VENDOR, MODEL, [TYPE, WEARABLE]], [/android.+;\\s(oppo)\\s?([\\w\\s]+)\\sbuild/i // OPPO\n        ], [VENDOR, MODEL, [TYPE, MOBILE]], [/crkey/i // Google Chromecast\n        ], [[MODEL, 'Chromecast'], [VENDOR, 'Google']], [/android.+;\\s(glass)\\s\\d/i // Google Glass\n        ], [MODEL, [VENDOR, 'Google'], [TYPE, WEARABLE]], [/android.+;\\s(pixel c)\\s/i // Google Pixel C\n        ], [MODEL, [VENDOR, 'Google'], [TYPE, TABLET]], [/android.+;\\s(pixel xl|pixel)\\s/i // Google Pixel\n        ], [MODEL, [VENDOR, 'Google'], [TYPE, MOBILE]], [/android.+(\\w+)\\s+build\\/hm\\1/i, // Xiaomi Hongmi 'numeric' models\n        /android.+(hm[\\s\\-_]*note?[\\s_]*(?:\\d\\w)?)\\s+build/i, // Xiaomi Hongmi\n        /android.+(mi[\\s\\-_]*(?:one|one[\\s_]plus|note lte)?[\\s_]*(?:\\d\\w)?)\\s+build/i, // Xiaomi Mi\n        /android.+(redmi[\\s\\-_]*(?:note)?(?:[\\s_]*[\\w\\s]+)?)\\s+build/i // Redmi Phones\n        ], [[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, MOBILE]], [/android.+(mi[\\s\\-_]*(?:pad)?(?:[\\s_]*[\\w\\s]+)?)\\s+build/i // Mi Pad tablets\n        ], [[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, TABLET]], [/android.+;\\s(m[1-5]\\snote)\\sbuild/i // Meizu Tablet\n        ], [MODEL, [VENDOR, 'Meizu'], [TYPE, TABLET]], [/android.+a000(1)\\s+build/i // OnePlus\n        ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [/android.+[;\\/]\\s*(RCT[\\d\\w]+)\\s+build/i // RCA Tablets\n        ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [/android.+[;\\/]\\s*(Venue[\\d\\s]*)\\s+build/i // Dell Venue Tablets\n        ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [/android.+[;\\/]\\s*(Q[T|M][\\d\\w]+)\\s+build/i // Verizon Tablet\n        ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [/android.+[;\\/]\\s+(Barnes[&\\s]+Noble\\s+|BN[RT])(V?.*)\\s+build/i // Barnes & Noble Tablet\n        ], [[VENDOR, 'Barnes & Noble'], MODEL, [TYPE, TABLET]], [/android.+[;\\/]\\s+(TM\\d{3}.*\\b)\\s+build/i // Barnes & Noble Tablet\n        ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [/android.+[;\\/]\\s*(zte)?.+(k\\d{2})\\s+build/i // ZTE K Series Tablet\n        ], [[VENDOR, 'ZTE'], MODEL, [TYPE, TABLET]], [/android.+[;\\/]\\s*(gen\\d{3})\\s+build.*49h/i // Swiss GEN Mobile\n        ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [/android.+[;\\/]\\s*(zur\\d{3})\\s+build/i // Swiss ZUR Tablet\n        ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [/android.+[;\\/]\\s*((Zeki)?TB.*\\b)\\s+build/i // Zeki Tablets\n        ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [/(android).+[;\\/]\\s+([YR]\\d{2}x?.*)\\s+build/i, /android.+[;\\/]\\s+(Dragon[\\-\\s]+Touch\\s+|DT)(.+)\\s+build/i // Dragon Touch Tablet\n        ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [/android.+[;\\/]\\s*(NS-?.+)\\s+build/i // Insignia Tablets\n        ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [/android.+[;\\/]\\s*((NX|Next)-?.+)\\s+build/i // NextBook Tablets\n        ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [/android.+[;\\/]\\s*(Xtreme\\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\\s+build/i], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [// Voice Xtreme Phones\n\n        /android.+[;\\/]\\s*(LVTEL\\-?)?(V1[12])\\s+build/i // LvTel Phones\n        ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [/android.+[;\\/]\\s*(V(100MD|700NA|7011|917G).*\\b)\\s+build/i // Envizen Tablets\n        ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [/android.+[;\\/]\\s*(Le[\\s\\-]+Pan)[\\s\\-]+(.*\\b)\\s+build/i // Le Pan Tablets\n        ], [VENDOR, MODEL, [TYPE, TABLET]], [/android.+[;\\/]\\s*(Trio[\\s\\-]*.*)\\s+build/i // MachSpeed Tablets\n        ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [/android.+[;\\/]\\s*(Trinity)[\\-\\s]*(T\\d{3})\\s+build/i // Trinity Tablets\n        ], [VENDOR, MODEL, [TYPE, TABLET]], [/android.+[;\\/]\\s*TU_(1491)\\s+build/i // Rotor Tablets\n        ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [/android.+(KS(.+))\\s+build/i // Amazon Kindle Tablets\n        ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [/android.+(Gigaset)[\\s\\-]+(Q.+)\\s+build/i // Gigaset Tablets\n        ], [VENDOR, MODEL, [TYPE, TABLET]], [/\\s(tablet|tab)[;\\/]/i, // Unidentifiable Tablet\n        /\\s(mobile)(?:[;\\/]|\\ssafari)/i // Unidentifiable Mobile\n        ], [[TYPE, util.lowerize], VENDOR, MODEL], [/(android.+)[;\\/].+build/i // Generic Android Device\n        ], [MODEL, [VENDOR, 'Generic']]\n\n        /*//////////////////////////\n            // TODO: move to string map\n            ////////////////////////////\n             /(C6603)/i                                                          // Sony Xperia Z C6603\n            ], [[MODEL, 'Xperia Z C6603'], [VENDOR, 'Sony'], [TYPE, MOBILE]], [\n            /(C6903)/i                                                          // Sony Xperia Z 1\n            ], [[MODEL, 'Xperia Z 1'], [VENDOR, 'Sony'], [TYPE, MOBILE]], [\n             /(SM-G900[F|H])/i                                                   // Samsung Galaxy S5\n            ], [[MODEL, 'Galaxy S5'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-G7102)/i                                                       // Samsung Galaxy Grand 2\n            ], [[MODEL, 'Galaxy Grand 2'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-G530H)/i                                                       // Samsung Galaxy Grand Prime\n            ], [[MODEL, 'Galaxy Grand Prime'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-G313HZ)/i                                                      // Samsung Galaxy V\n            ], [[MODEL, 'Galaxy V'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-T805)/i                                                        // Samsung Galaxy Tab S 10.5\n            ], [[MODEL, 'Galaxy Tab S 10.5'], [VENDOR, 'Samsung'], [TYPE, TABLET]], [\n            /(SM-G800F)/i                                                       // Samsung Galaxy S5 Mini\n            ], [[MODEL, 'Galaxy S5 Mini'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-T311)/i                                                        // Samsung Galaxy Tab 3 8.0\n            ], [[MODEL, 'Galaxy Tab 3 8.0'], [VENDOR, 'Samsung'], [TYPE, TABLET]], [\n             /(T3C)/i                                                            // Advan Vandroid T3C\n            ], [MODEL, [VENDOR, 'Advan'], [TYPE, TABLET]], [\n            /(ADVAN T1J\\+)/i                                                    // Advan Vandroid T1J+\n            ], [[MODEL, 'Vandroid T1J+'], [VENDOR, 'Advan'], [TYPE, TABLET]], [\n            /(ADVAN S4A)/i                                                      // Advan Vandroid S4A\n            ], [[MODEL, 'Vandroid S4A'], [VENDOR, 'Advan'], [TYPE, MOBILE]], [\n             /(V972M)/i                                                          // ZTE V972M\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n             /(i-mobile)\\s(IQ\\s[\\d\\.]+)/i                                        // i-mobile IQ\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(IQ6.3)/i                                                          // i-mobile IQ IQ 6.3\n            ], [[MODEL, 'IQ 6.3'], [VENDOR, 'i-mobile'], [TYPE, MOBILE]], [\n            /(i-mobile)\\s(i-style\\s[\\d\\.]+)/i                                   // i-mobile i-STYLE\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(i-STYLE2.1)/i                                                     // i-mobile i-STYLE 2.1\n            ], [[MODEL, 'i-STYLE 2.1'], [VENDOR, 'i-mobile'], [TYPE, MOBILE]], [\n             /(mobiistar touch LAI 512)/i                                        // mobiistar touch LAI 512\n            ], [[MODEL, 'Touch LAI 512'], [VENDOR, 'mobiistar'], [TYPE, MOBILE]], [\n             /////////////\n            // END TODO\n            ///////////*/\n\n        ],\n\n        engine: [[/windows.+\\sedge\\/([\\w\\.]+)/i // EdgeHTML\n        ], [VERSION, [NAME, 'EdgeHTML']], [/(presto)\\/([\\w\\.]+)/i, // Presto\n        /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m\n        /(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i, // KHTML/Tasman/Links\n        /(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i // iCab\n        ], [NAME, VERSION], [/rv\\:([\\w\\.]+).*(gecko)/i // Gecko\n        ], [VERSION, NAME]],\n\n        os: [[\n\n        // Windows based\n        /microsoft\\s(windows)\\s(vista|xp)/i // Windows (iTunes)\n        ], [NAME, VERSION], [/(windows)\\snt\\s6\\.2;\\s(arm)/i, // Windows RT\n        /(windows\\sphone(?:\\sos)*)[\\s\\/]?([\\d\\.\\s]+\\w)*/i, // Windows Phone\n        /(windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)/i], [NAME, [VERSION, mapper.str, maps.os.windows.version]], [/(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i], [[NAME, 'Windows'], [VERSION, mapper.str, maps.os.windows.version]], [\n\n        // Mobile/Embedded OS\n        /\\((bb)(10);/i // BlackBerry 10\n        ], [[NAME, 'BlackBerry'], VERSION], [/(blackberry)\\w*\\/?([\\w\\.]+)*/i, // Blackberry\n        /(tizen)[\\/\\s]([\\w\\.]+)/i, // Tizen\n        /(android|webos|palm\\sos|qnx|bada|rim\\stablet\\sos|meego|contiki)[\\/\\s-]?([\\w\\.]+)*/i,\n        // Android/WebOS/Palm/QNX/Bada/RIM/MeeGo/Contiki\n        /linux;.+(sailfish);/i // Sailfish OS\n        ], [NAME, VERSION], [/(symbian\\s?os|symbos|s60(?=;))[\\/\\s-]?([\\w\\.]+)*/i // Symbian\n        ], [[NAME, 'Symbian'], VERSION], [/\\((series40);/i // Series 40\n        ], [NAME], [/mozilla.+\\(mobile;.+gecko.+firefox/i // Firefox OS\n        ], [[NAME, 'Firefox OS'], VERSION], [\n\n        // Console\n        /(nintendo|playstation)\\s([wids34portablevu]+)/i, // Nintendo/Playstation\n\n        // GNU/Linux based\n        /(mint)[\\/\\s\\(]?(\\w+)*/i, // Mint\n        /(mageia|vectorlinux)[;\\s]/i, // Mageia/VectorLinux\n        /(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\\/\\s-]?(?!chrom)([\\w\\.-]+)*/i,\n        // Joli/Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware\n        // Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus\n        /(hurd|linux)\\s?([\\w\\.]+)*/i, // Hurd/Linux\n        /(gnu)\\s?([\\w\\.]+)*/i // GNU\n        ], [NAME, VERSION], [/(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i // Chromium OS\n        ], [[NAME, 'Chromium OS'], VERSION], [\n\n        // Solaris\n        /(sunos)\\s?([\\w\\.]+\\d)*/i // Solaris\n        ], [[NAME, 'Solaris'], VERSION], [\n\n        // BSD based\n        /\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]+)*/i // FreeBSD/NetBSD/OpenBSD/PC-BSD/DragonFly\n        ], [NAME, VERSION], [/(haiku)\\s(\\w+)/i // Haiku\n        ], [NAME, VERSION], [/cfnetwork\\/.+darwin/i, /ip[honead]+(?:.*os\\s([\\w]+)\\slike\\smac|;\\sopera)/i // iOS\n        ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [/(mac\\sos\\sx)\\s?([\\w\\s\\.]+\\w)*/i, /(macintosh|mac(?=_powerpc)\\s)/i // Mac OS\n        ], [[NAME, 'Mac OS'], [VERSION, /_/g, '.']], [\n\n        // Other\n        /((?:open)?solaris)[\\/\\s-]?([\\w\\.]+)*/i, // Solaris\n        /(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.]*)*/i, // AIX\n        /(plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos|openvms)/i,\n        // Plan9/Minix/BeOS/OS2/AmigaOS/MorphOS/RISCOS/OpenVMS\n        /(unix)\\s?([\\w\\.]+)*/i // UNIX\n        ], [NAME, VERSION]]\n      };\n\n      /////////////////\n      // Constructor\n      ////////////////\n      /*\n      var Browser = function (name, version) {\n          this[NAME] = name;\n          this[VERSION] = version;\n      };\n      var CPU = function (arch) {\n          this[ARCHITECTURE] = arch;\n      };\n      var Device = function (vendor, model, type) {\n          this[VENDOR] = vendor;\n          this[MODEL] = model;\n          this[TYPE] = type;\n      };\n      var Engine = Browser;\n      var OS = Browser;\n      */\n      var UAParser = function UAParser(uastring, extensions) {\n\n        if ((typeof uastring === \"undefined\" ? \"undefined\" : _typeof2(uastring)) === 'object') {\n          extensions = uastring;\n          uastring = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n          return new UAParser(uastring, extensions).getResult();\n        }\n\n        var ua = uastring || (window && window.navigator && window.navigator.userAgent ? window.navigator.userAgent : EMPTY);\n        var rgxmap = extensions ? util.extend(regexes, extensions) : regexes;\n        //var browser = new Browser();\n        //var cpu = new CPU();\n        //var device = new Device();\n        //var engine = new Engine();\n        //var os = new OS();\n\n        this.getBrowser = function () {\n          var browser = { name: undefined, version: undefined };\n          mapper.rgx.call(browser, ua, rgxmap.browser);\n          browser.major = util.major(browser.version); // deprecated\n          return browser;\n        };\n        this.getCPU = function () {\n          var cpu = { architecture: undefined };\n          mapper.rgx.call(cpu, ua, rgxmap.cpu);\n          return cpu;\n        };\n        this.getDevice = function () {\n          var device = { vendor: undefined, model: undefined, type: undefined };\n          mapper.rgx.call(device, ua, rgxmap.device);\n          return device;\n        };\n        this.getEngine = function () {\n          var engine = { name: undefined, version: undefined };\n          mapper.rgx.call(engine, ua, rgxmap.engine);\n          return engine;\n        };\n        this.getOS = function () {\n          var os = { name: undefined, version: undefined };\n          mapper.rgx.call(os, ua, rgxmap.os);\n          return os;\n        };\n        this.getResult = function () {\n          return {\n            ua: this.getUA(),\n            browser: this.getBrowser(),\n            engine: this.getEngine(),\n            os: this.getOS(),\n            device: this.getDevice(),\n            cpu: this.getCPU()\n          };\n        };\n        this.getUA = function () {\n          return ua;\n        };\n        this.setUA = function (uastring) {\n          ua = uastring;\n          //browser = new Browser();\n          //cpu = new CPU();\n          //device = new Device();\n          //engine = new Engine();\n          //os = new OS();\n          return this;\n        };\n        return this;\n      };\n\n      UAParser.VERSION = LIBVERSION;\n      UAParser.BROWSER = {\n        NAME: NAME,\n        MAJOR: MAJOR, // deprecated\n        VERSION: VERSION\n      };\n      UAParser.CPU = {\n        ARCHITECTURE: ARCHITECTURE\n      };\n      UAParser.DEVICE = {\n        MODEL: MODEL,\n        VENDOR: VENDOR,\n        TYPE: TYPE,\n        CONSOLE: CONSOLE,\n        MOBILE: MOBILE,\n        SMARTTV: SMARTTV,\n        TABLET: TABLET,\n        WEARABLE: WEARABLE,\n        EMBEDDED: EMBEDDED\n      };\n      UAParser.ENGINE = {\n        NAME: NAME,\n        VERSION: VERSION\n      };\n      UAParser.OS = {\n        NAME: NAME,\n        VERSION: VERSION\n      };\n      //UAParser.Utils = util;\n\n      ///////////\n      // Export\n      //////////\n\n\n      // check js environment\n      if ('object' !== UNDEF_TYPE) {\n        // nodejs env\n        if ('object' !== UNDEF_TYPE && module.exports) {\n          exports = module.exports = UAParser;\n        }\n        // TODO: test!!!!!!!!\n        /*\n        if (require && require.main === module && process) {\n            // cli\n            var jsonize = function (arr) {\n                var res = [];\n                for (var i in arr) {\n                    res.push(new UAParser(arr[i]).getResult());\n                }\n                process.stdout.write(JSON.stringify(res, null, 2) + '\\n');\n            };\n            if (process.stdin.isTTY) {\n                // via args\n                jsonize(process.argv.slice(2));\n            } else {\n                // via pipe\n                var str = '';\n                process.stdin.on('readable', function() {\n                    var read = process.stdin.read();\n                    if (read !== null) {\n                        str += read;\n                    }\n                });\n                process.stdin.on('end', function () {\n                    jsonize(str.replace(/\\n$/, '').split('\\n'));\n                });\n            }\n        }\n        */\n        exports.UAParser = UAParser;\n      } else {\n        // requirejs env (optional)\n        if ((typeof undefined === \"undefined\" ? \"undefined\" : _typeof2(undefined)) === FUNC_TYPE && undefined.amd) {\n          undefined(function () {\n            return UAParser;\n          });\n        } else if (window) {\n          // browser env\n          window.UAParser = UAParser;\n        }\n      }\n\n      // jQuery/Zepto specific (optional)\n      // Note:\n      //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n      //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n      //   and we should catch that.\n      var $ = window && (window.jQuery || window.Zepto);\n      if ((typeof $ === \"undefined\" ? \"undefined\" : _typeof2($)) !== UNDEF_TYPE) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n          return parser.getUA();\n        };\n        $.ua.set = function (uastring) {\n          parser.setUA(uastring);\n          var result = parser.getResult();\n          for (var prop in result) {\n            $.ua[prop] = result[prop];\n          }\n        };\n      }\n    })((typeof window === \"undefined\" ? \"undefined\" : _typeof2(window)) === 'object' ? window : commonjsGlobal);\n  });\n\n  var uaParser_1 = uaParser.UAParser;\n\n  // call something on iterator step with safe closing on error\n\n  var _iterCall = function _iterCall(iterator, fn, value, entries) {\n    try {\n      return entries ? fn(_anObject(value)[0], value[1]) : fn(value);\n      // 7.4.6 IteratorClose(iterator, completion)\n    } catch (e) {\n      var ret = iterator['return'];\n      if (ret !== undefined) _anObject(ret.call(iterator));\n      throw e;\n    }\n  };\n\n  // check on default Array iterator\n\n  var ITERATOR$3 = _wks('iterator');\n  var ArrayProto = Array.prototype;\n\n  var _isArrayIter = function _isArrayIter(it) {\n    return it !== undefined && (_iterators.Array === it || ArrayProto[ITERATOR$3] === it);\n  };\n\n  var _createProperty = function _createProperty(object, index, value) {\n    if (index in object) _objectDp.f(object, index, _propertyDesc(0, value));else object[index] = value;\n  };\n\n  var ITERATOR$4 = _wks('iterator');\n  var SAFE_CLOSING = false;\n\n  try {\n    var riter = [7][ITERATOR$4]();\n    riter['return'] = function () {\n      SAFE_CLOSING = true;\n    };\n    // eslint-disable-next-line no-throw-literal\n  } catch (e) {/* empty */}\n\n  var _iterDetect = function _iterDetect(exec, skipClosing) {\n    if (!skipClosing && !SAFE_CLOSING) return false;\n    var safe = false;\n    try {\n      var arr = [7];\n      var iter = arr[ITERATOR$4]();\n      iter.next = function () {\n        return { done: safe = true };\n      };\n      arr[ITERATOR$4] = function () {\n        return iter;\n      };\n      exec(arr);\n    } catch (e) {/* empty */}\n    return safe;\n  };\n\n  _export(_export.S + _export.F * !_iterDetect(function (iter) {}), 'Array', {\n    // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n    from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n      var O = _toObject(arrayLike);\n      var C = typeof this == 'function' ? this : Array;\n      var aLen = arguments.length;\n      var mapfn = aLen > 1 ? arguments[1] : undefined;\n      var mapping = mapfn !== undefined;\n      var index = 0;\n      var iterFn = core_getIteratorMethod(O);\n      var length, result, step, iterator;\n      if (mapping) mapfn = _ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n      // if object isn't iterable or it's array with default iterator - use simple case\n      if (iterFn != undefined && !(C == Array && _isArrayIter(iterFn))) {\n        for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n          _createProperty(result, index, mapping ? _iterCall(iterator, mapfn, [step.value, index], true) : step.value);\n        }\n      } else {\n        length = _toLength(O.length);\n        for (result = new C(length); length > index; index++) {\n          _createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n        }\n      }\n      result.length = index;\n      return result;\n    }\n  });\n\n  var from$1 = _core.Array.from;\n\n  var from = createCommonjsModule(function (module) {\n    module.exports = { \"default\": from$1, __esModule: true };\n  });\n\n  var _Array$from = unwrapExports(from);\n\n  var toConsumableArray = createCommonjsModule(function (module, exports) {\n    exports.__esModule = true;\n\n    var _from2 = _interopRequireDefault(from);\n\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n\n    exports.default = function (arr) {\n      if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n          arr2[i] = arr[i];\n        }\n\n        return arr2;\n      } else {\n        return (0, _from2.default)(arr);\n      }\n    };\n  });\n\n  unwrapExports(toConsumableArray);\n\n  /**\n   * toxic-utils v0.1.6\n   * (c) 2017 toxic-johann\n   * Released under MIT\n   */\n\n  /**\n   * the handler to generate an deep traversal handler\n   * @param  {Function} fn the function you wanna run when you reach in the deep property\n   * @return {Function}    the handler\n   */\n  function genTraversalHandler(fn) {\n    function recursiveFn(source, target, key) {\n      if (isArray$1(source) || isObject$1(source)) {\n        target = isPrimitive(target) ? isObject$1(source) ? {} : [] : target;\n        for (var _key in source) {\n          // $FlowFixMe: support computed key here\n          target[_key] = recursiveFn(source[_key], target[_key], _key);\n        }\n        return target;\n      }\n      return fn(source, target, key);\n    }\n    return recursiveFn;\n  }\n  var _deepAssign = genTraversalHandler(function (val) {\n    return val;\n  });\n  /**\n   * merge multiple objects\n   * @param  {...Object} args [description]\n   * @return {merge-object}         [description]\n   */\n  function deepAssign() {\n    for (var _len = arguments.length, args = Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (args.length < 2) {\n      throw new Error('deepAssign accept two and more argument');\n    }\n    for (var i = args.length - 1; i > -1; i--) {\n      if (isPrimitive(args[i])) {\n        throw new TypeError('deepAssign only accept non primitive type');\n      }\n    }\n    var target = args.shift();\n    args.forEach(function (source) {\n      return _deepAssign(source, target);\n    });\n    return target;\n  }\n\n  var _anInstance = function _anInstance(it, Constructor, name, forbiddenField) {\n    if (!(it instanceof Constructor) || forbiddenField !== undefined && forbiddenField in it) {\n      throw TypeError(name + ': incorrect invocation!');\n    }return it;\n  };\n\n  var _forOf = createCommonjsModule(function (module) {\n    var BREAK = {};\n    var RETURN = {};\n    var exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n      var iterFn = ITERATOR ? function () {\n        return iterable;\n      } : core_getIteratorMethod(iterable);\n      var f = _ctx(fn, that, entries ? 2 : 1);\n      var index = 0;\n      var length, step, iterator, result;\n      if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n      // fast case for arrays with default iterator\n      if (_isArrayIter(iterFn)) for (length = _toLength(iterable.length); length > index; index++) {\n        result = entries ? f(_anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n        if (result === BREAK || result === RETURN) return result;\n      } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n        result = _iterCall(iterator, f, step.value, entries);\n        if (result === BREAK || result === RETURN) return result;\n      }\n    };\n    exports.BREAK = BREAK;\n    exports.RETURN = RETURN;\n  });\n\n  // 7.3.20 SpeciesConstructor(O, defaultConstructor)\n\n\n  var SPECIES = _wks('species');\n  var _speciesConstructor = function _speciesConstructor(O, D) {\n    var C = _anObject(O).constructor;\n    var S;\n    return C === undefined || (S = _anObject(C)[SPECIES]) == undefined ? D : _aFunction(S);\n  };\n\n  // fast apply, http://jsperf.lnkit.com/fast-apply/5\n  var _invoke = function _invoke(fn, args, that) {\n    var un = that === undefined;\n    switch (args.length) {\n      case 0:\n        return un ? fn() : fn.call(that);\n      case 1:\n        return un ? fn(args[0]) : fn.call(that, args[0]);\n      case 2:\n        return un ? fn(args[0], args[1]) : fn.call(that, args[0], args[1]);\n      case 3:\n        return un ? fn(args[0], args[1], args[2]) : fn.call(that, args[0], args[1], args[2]);\n      case 4:\n        return un ? fn(args[0], args[1], args[2], args[3]) : fn.call(that, args[0], args[1], args[2], args[3]);\n    }return fn.apply(that, args);\n  };\n\n  var process$1 = _global.process;\n  var setTask = _global.setImmediate;\n  var clearTask = _global.clearImmediate;\n  var MessageChannel = _global.MessageChannel;\n  var Dispatch = _global.Dispatch;\n  var counter = 0;\n  var queue = {};\n  var ONREADYSTATECHANGE = 'onreadystatechange';\n  var defer;\n  var channel;\n  var port;\n  var run = function run() {\n    var id = +this;\n    // eslint-disable-next-line no-prototype-builtins\n    if (queue.hasOwnProperty(id)) {\n      var fn = queue[id];\n      delete queue[id];\n      fn();\n    }\n  };\n  var listener = function listener(event) {\n    run.call(event.data);\n  };\n  // Node.js 0.9+ & IE10+ has setImmediate, otherwise:\n  if (!setTask || !clearTask) {\n    setTask = function setImmediate(fn) {\n      var args = [];\n      var i = 1;\n      while (arguments.length > i) {\n        args.push(arguments[i++]);\n      }queue[++counter] = function () {\n        // eslint-disable-next-line no-new-func\n        _invoke(typeof fn == 'function' ? fn : Function(fn), args);\n      };\n      defer(counter);\n      return counter;\n    };\n    clearTask = function clearImmediate(id) {\n      delete queue[id];\n    };\n    // Node.js 0.8-\n    if (_cof(process$1) == 'process') {\n      defer = function defer(id) {\n        process$1.nextTick(_ctx(run, id, 1));\n      };\n      // Sphere (JS game engine) Dispatch API\n    } else if (Dispatch && Dispatch.now) {\n      defer = function defer(id) {\n        Dispatch.now(_ctx(run, id, 1));\n      };\n      // Browsers with MessageChannel, includes WebWorkers\n    } else if (MessageChannel) {\n      channel = new MessageChannel();\n      port = channel.port2;\n      channel.port1.onmessage = listener;\n      defer = _ctx(port.postMessage, port, 1);\n      // Browsers with postMessage, skip WebWorkers\n      // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n    } else if (_global.addEventListener && typeof postMessage == 'function' && !_global.importScripts) {\n      defer = function defer(id) {\n        _global.postMessage(id + '', '*');\n      };\n      _global.addEventListener('message', listener, false);\n      // IE8-\n    } else if (ONREADYSTATECHANGE in _domCreate('script')) {\n      defer = function defer(id) {\n        _html.appendChild(_domCreate('script'))[ONREADYSTATECHANGE] = function () {\n          _html.removeChild(this);\n          run.call(id);\n        };\n      };\n      // Rest old browsers\n    } else {\n      defer = function defer(id) {\n        setTimeout(_ctx(run, id, 1), 0);\n      };\n    }\n  }\n  var _task = {\n    set: setTask,\n    clear: clearTask\n  };\n\n  var macrotask = _task.set;\n  var Observer = _global.MutationObserver || _global.WebKitMutationObserver;\n  var process$2 = _global.process;\n  var Promise = _global.Promise;\n  var isNode$2 = _cof(process$2) == 'process';\n\n  var _microtask = function _microtask() {\n    var head, last, notify;\n\n    var flush = function flush() {\n      var parent, fn;\n      if (isNode$2 && (parent = process$2.domain)) parent.exit();\n      while (head) {\n        fn = head.fn;\n        head = head.next;\n        try {\n          fn();\n        } catch (e) {\n          if (head) notify();else last = undefined;\n          throw e;\n        }\n      }last = undefined;\n      if (parent) parent.enter();\n    };\n\n    // Node.js\n    if (isNode$2) {\n      notify = function notify() {\n        process$2.nextTick(flush);\n      };\n      // browsers with MutationObserver\n    } else if (Observer) {\n      var toggle = true;\n      var node = document.createTextNode('');\n      new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n      notify = function notify() {\n        node.data = toggle = !toggle;\n      };\n      // environments with maybe non-completely correct, but existent Promise\n    } else if (Promise && Promise.resolve) {\n      var promise = Promise.resolve();\n      notify = function notify() {\n        promise.then(flush);\n      };\n      // for other environments - macrotask based on:\n      // - setImmediate\n      // - MessageChannel\n      // - window.postMessag\n      // - onreadystatechange\n      // - setTimeout\n    } else {\n      notify = function notify() {\n        // strange IE + webpack dev server bug - use .call(global)\n        macrotask.call(_global, flush);\n      };\n    }\n\n    return function (fn) {\n      var task = { fn: fn, next: undefined };\n      if (last) last.next = task;\n      if (!head) {\n        head = task;\n        notify();\n      }last = task;\n    };\n  };\n\n  // 25.4.1.5 NewPromiseCapability(C)\n\n\n  function PromiseCapability(C) {\n    var resolve, reject;\n    this.promise = new C(function ($$resolve, $$reject) {\n      if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n      resolve = $$resolve;\n      reject = $$reject;\n    });\n    this.resolve = _aFunction(resolve);\n    this.reject = _aFunction(reject);\n  }\n\n  var f$7 = function f$7(C) {\n    return new PromiseCapability(C);\n  };\n\n  var _newPromiseCapability = {\n    f: f$7\n  };\n\n  var _perform = function _perform(exec) {\n    try {\n      return { e: false, v: exec() };\n    } catch (e) {\n      return { e: true, v: e };\n    }\n  };\n\n  var _promiseResolve = function _promiseResolve(C, x) {\n    _anObject(C);\n    if (_isObject(x) && x.constructor === C) return x;\n    var promiseCapability = _newPromiseCapability.f(C);\n    var resolve = promiseCapability.resolve;\n    resolve(x);\n    return promiseCapability.promise;\n  };\n\n  var _redefineAll = function _redefineAll(target, src, safe) {\n    for (var key in src) {\n      if (safe && target[key]) target[key] = src[key];else _hide(target, key, src[key]);\n    }return target;\n  };\n\n  var SPECIES$1 = _wks('species');\n\n  var _setSpecies = function _setSpecies(KEY) {\n    var C = typeof _core[KEY] == 'function' ? _core[KEY] : _global[KEY];\n    if (_descriptors && C && !C[SPECIES$1]) _objectDp.f(C, SPECIES$1, {\n      configurable: true,\n      get: function get() {\n        return this;\n      }\n    });\n  };\n\n  var task = _task.set;\n  var microtask = _microtask();\n\n  var PROMISE = 'Promise';\n  var TypeError$1 = _global.TypeError;\n  var process = _global.process;\n  var $Promise = _global[PROMISE];\n  var isNode$1 = _classof(process) == 'process';\n  var empty = function empty() {/* empty */};\n  var Internal;\n  var newGenericPromiseCapability;\n  var OwnPromiseCapability;\n  var Wrapper;\n  var newPromiseCapability = newGenericPromiseCapability = _newPromiseCapability.f;\n\n  var USE_NATIVE$1 = !!function () {\n    try {\n      // correct subclassing with @@species support\n      var promise = $Promise.resolve(1);\n      var FakePromise = (promise.constructor = {})[_wks('species')] = function (exec) {\n        exec(empty, empty);\n      };\n      // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n      return (isNode$1 || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n    } catch (e) {/* empty */}\n  }();\n\n  // helpers\n  var isThenable = function isThenable(it) {\n    var then;\n    return _isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n  };\n  var notify = function notify(promise, isReject) {\n    if (promise._n) return;\n    promise._n = true;\n    var chain = promise._c;\n    microtask(function () {\n      var value = promise._v;\n      var ok = promise._s == 1;\n      var i = 0;\n      var run = function run(reaction) {\n        var handler = ok ? reaction.ok : reaction.fail;\n        var resolve = reaction.resolve;\n        var reject = reaction.reject;\n        var domain = reaction.domain;\n        var result, then;\n        try {\n          if (handler) {\n            if (!ok) {\n              if (promise._h == 2) onHandleUnhandled(promise);\n              promise._h = 1;\n            }\n            if (handler === true) result = value;else {\n              if (domain) domain.enter();\n              result = handler(value);\n              if (domain) domain.exit();\n            }\n            if (result === reaction.promise) {\n              reject(TypeError$1('Promise-chain cycle'));\n            } else if (then = isThenable(result)) {\n              then.call(result, resolve, reject);\n            } else resolve(result);\n          } else reject(value);\n        } catch (e) {\n          reject(e);\n        }\n      };\n      while (chain.length > i) {\n        run(chain[i++]);\n      } // variable length - can't use forEach\n      promise._c = [];\n      promise._n = false;\n      if (isReject && !promise._h) onUnhandled(promise);\n    });\n  };\n  var onUnhandled = function onUnhandled(promise) {\n    task.call(_global, function () {\n      var value = promise._v;\n      var unhandled = isUnhandled(promise);\n      var result, handler, console;\n      if (unhandled) {\n        result = _perform(function () {\n          if (isNode$1) {\n            process.emit('unhandledRejection', value, promise);\n          } else if (handler = _global.onunhandledrejection) {\n            handler({ promise: promise, reason: value });\n          } else if ((console = _global.console) && console.error) {\n            console.error('Unhandled promise rejection', value);\n          }\n        });\n        // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n        promise._h = isNode$1 || isUnhandled(promise) ? 2 : 1;\n      }promise._a = undefined;\n      if (unhandled && result.e) throw result.v;\n    });\n  };\n  var isUnhandled = function isUnhandled(promise) {\n    if (promise._h == 1) return false;\n    var chain = promise._a || promise._c;\n    var i = 0;\n    var reaction;\n    while (chain.length > i) {\n      reaction = chain[i++];\n      if (reaction.fail || !isUnhandled(reaction.promise)) return false;\n    }return true;\n  };\n  var onHandleUnhandled = function onHandleUnhandled(promise) {\n    task.call(_global, function () {\n      var handler;\n      if (isNode$1) {\n        process.emit('rejectionHandled', promise);\n      } else if (handler = _global.onrejectionhandled) {\n        handler({ promise: promise, reason: promise._v });\n      }\n    });\n  };\n  var $reject = function $reject(value) {\n    var promise = this;\n    if (promise._d) return;\n    promise._d = true;\n    promise = promise._w || promise; // unwrap\n    promise._v = value;\n    promise._s = 2;\n    if (!promise._a) promise._a = promise._c.slice();\n    notify(promise, true);\n  };\n  var $resolve = function $resolve(value) {\n    var promise = this;\n    var then;\n    if (promise._d) return;\n    promise._d = true;\n    promise = promise._w || promise; // unwrap\n    try {\n      if (promise === value) throw TypeError$1(\"Promise can't be resolved itself\");\n      if (then = isThenable(value)) {\n        microtask(function () {\n          var wrapper = { _w: promise, _d: false }; // wrap\n          try {\n            then.call(value, _ctx($resolve, wrapper, 1), _ctx($reject, wrapper, 1));\n          } catch (e) {\n            $reject.call(wrapper, e);\n          }\n        });\n      } else {\n        promise._v = value;\n        promise._s = 1;\n        notify(promise, false);\n      }\n    } catch (e) {\n      $reject.call({ _w: promise, _d: false }, e); // wrap\n    }\n  };\n\n  // constructor polyfill\n  if (!USE_NATIVE$1) {\n    // 25.4.3.1 Promise(executor)\n    $Promise = function Promise(executor) {\n      _anInstance(this, $Promise, PROMISE, '_h');\n      _aFunction(executor);\n      Internal.call(this);\n      try {\n        executor(_ctx($resolve, this, 1), _ctx($reject, this, 1));\n      } catch (err) {\n        $reject.call(this, err);\n      }\n    };\n    // eslint-disable-next-line no-unused-vars\n    Internal = function Promise(executor) {\n      this._c = []; // <- awaiting reactions\n      this._a = undefined; // <- checked in isUnhandled reactions\n      this._s = 0; // <- state\n      this._d = false; // <- done\n      this._v = undefined; // <- value\n      this._h = 0; // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n      this._n = false; // <- notify\n    };\n    Internal.prototype = _redefineAll($Promise.prototype, {\n      // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n      then: function then(onFulfilled, onRejected) {\n        var reaction = newPromiseCapability(_speciesConstructor(this, $Promise));\n        reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n        reaction.fail = typeof onRejected == 'function' && onRejected;\n        reaction.domain = isNode$1 ? process.domain : undefined;\n        this._c.push(reaction);\n        if (this._a) this._a.push(reaction);\n        if (this._s) notify(this, false);\n        return reaction.promise;\n      },\n      // 25.4.5.1 Promise.prototype.catch(onRejected)\n      'catch': function _catch(onRejected) {\n        return this.then(undefined, onRejected);\n      }\n    });\n    OwnPromiseCapability = function OwnPromiseCapability() {\n      var promise = new Internal();\n      this.promise = promise;\n      this.resolve = _ctx($resolve, promise, 1);\n      this.reject = _ctx($reject, promise, 1);\n    };\n    _newPromiseCapability.f = newPromiseCapability = function newPromiseCapability(C) {\n      return C === $Promise || C === Wrapper ? new OwnPromiseCapability(C) : newGenericPromiseCapability(C);\n    };\n  }\n\n  _export(_export.G + _export.W + _export.F * !USE_NATIVE$1, { Promise: $Promise });\n  _setToStringTag($Promise, PROMISE);\n  _setSpecies(PROMISE);\n  Wrapper = _core[PROMISE];\n\n  // statics\n  _export(_export.S + _export.F * !USE_NATIVE$1, PROMISE, {\n    // 25.4.4.5 Promise.reject(r)\n    reject: function reject(r) {\n      var capability = newPromiseCapability(this);\n      var $$reject = capability.reject;\n      $$reject(r);\n      return capability.promise;\n    }\n  });\n  _export(_export.S + _export.F * (_library || !USE_NATIVE$1), PROMISE, {\n    // 25.4.4.6 Promise.resolve(x)\n    resolve: function resolve(x) {\n      return _promiseResolve(_library && this === Wrapper ? $Promise : this, x);\n    }\n  });\n  _export(_export.S + _export.F * !(USE_NATIVE$1 && _iterDetect(function (iter) {\n    $Promise.all(iter)['catch'](empty);\n  })), PROMISE, {\n    // 25.4.4.1 Promise.all(iterable)\n    all: function all(iterable) {\n      var C = this;\n      var capability = newPromiseCapability(C);\n      var resolve = capability.resolve;\n      var reject = capability.reject;\n      var result = _perform(function () {\n        var values = [];\n        var index = 0;\n        var remaining = 1;\n        _forOf(iterable, false, function (promise) {\n          var $index = index++;\n          var alreadyCalled = false;\n          values.push(undefined);\n          remaining++;\n          C.resolve(promise).then(function (value) {\n            if (alreadyCalled) return;\n            alreadyCalled = true;\n            values[$index] = value;\n            --remaining || resolve(values);\n          }, reject);\n        });\n        --remaining || resolve(values);\n      });\n      if (result.e) reject(result.v);\n      return capability.promise;\n    },\n    // 25.4.4.4 Promise.race(iterable)\n    race: function race(iterable) {\n      var C = this;\n      var capability = newPromiseCapability(C);\n      var reject = capability.reject;\n      var result = _perform(function () {\n        _forOf(iterable, false, function (promise) {\n          C.resolve(promise).then(capability.resolve, reject);\n        });\n      });\n      if (result.e) reject(result.v);\n      return capability.promise;\n    }\n  });\n\n  _export(_export.P + _export.R, 'Promise', { 'finally': function _finally(onFinally) {\n      var C = _speciesConstructor(this, _core.Promise || _global.Promise);\n      var isFunction = typeof onFinally == 'function';\n      return this.then(isFunction ? function (x) {\n        return _promiseResolve(C, onFinally()).then(function () {\n          return x;\n        });\n      } : onFinally, isFunction ? function (e) {\n        return _promiseResolve(C, onFinally()).then(function () {\n          throw e;\n        });\n      } : onFinally);\n    } });\n\n  // https://github.com/tc39/proposal-promise-try\n\n\n  _export(_export.S, 'Promise', { 'try': function _try(callbackfn) {\n      var promiseCapability = _newPromiseCapability.f(this);\n      var result = _perform(callbackfn);\n      (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n      return promiseCapability.promise;\n    } });\n\n  var promise$1 = _core.Promise;\n\n  var promise = createCommonjsModule(function (module) {\n    module.exports = { \"default\": promise$1, __esModule: true };\n  });\n\n  unwrapExports(promise);\n\n  /**\n   * chimee-helper-utils v0.2.0\n   * (c) 2017 toxic-johann\n   * Released under MIT\n   */\n\n  // **********************  judgement   ************************\n  /**\n   * check if the code running in browser environment (not include worker env)\n   * @returns {Boolean}\n   */\n  var inBrowser = typeof window !== 'undefined' && Object.prototype.toString.call(window) !== '[object Object]';\n\n  // requestAnimationFrame\n  var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame || function (cb) {\n    return setTimeout(cb, 17);\n  };\n\n  // cancelAnimationFrame\n  var caf = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.webkitCancelRequestAnimationFrame || window.msCancelAnimationFrame || window.oCancelAnimationFrame || function (id) {\n    clearTimeout(id);\n  };\n\n  // 19.1.2.1 Object.assign(target, source, ...)\n\n\n  var $assign = Object.assign;\n\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var _objectAssign = !$assign || _fails(function () {\n    var A = {};\n    var B = {};\n    // eslint-disable-next-line no-undef\n    var S = Symbol();\n    var K = 'abcdefghijklmnopqrst';\n    A[S] = 7;\n    K.split('').forEach(function (k) {\n      B[k] = k;\n    });\n    return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n  }) ? function assign(target, source) {\n    // eslint-disable-line no-unused-vars\n    var T = _toObject(target);\n    var aLen = arguments.length;\n    var index = 1;\n    var getSymbols = _objectGops.f;\n    var isEnum = _objectPie.f;\n    while (aLen > index) {\n      var S = _iobject(arguments[index++]);\n      var keys = getSymbols ? _objectKeys(S).concat(getSymbols(S)) : _objectKeys(S);\n      var length = keys.length;\n      var j = 0;\n      var key;\n      while (length > j) {\n        if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n      }\n    }return T;\n  } : $assign;\n\n  // 19.1.3.1 Object.assign(target, source)\n\n\n  _export(_export.S + _export.F, 'Object', { assign: _objectAssign });\n\n  var assign$1 = _core.Object.assign;\n\n  var assign = createCommonjsModule(function (module) {\n    module.exports = { \"default\": assign$1, __esModule: true };\n  });\n\n  var _Object$assign = unwrapExports(assign);\n\n  // 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n  _export(_export.S, 'Object', { create: _objectCreate });\n\n  var $Object$1 = _core.Object;\n  var create$1 = function create(P, D) {\n    return $Object$1.create(P, D);\n  };\n\n  var create = createCommonjsModule(function (module) {\n    module.exports = { \"default\": create$1, __esModule: true };\n  });\n\n  var _Object$create = unwrapExports(create);\n\n  /**\n   * chimee-helper-events v0.1.0\n   * (c) 2017 toxic-johann\n   * Released under MIT\n   */\n\n  /**\n  * @module event\n  * @author huzunjie\n  * @description 自定义事件基础类\n  */\n\n  /* 缓存事件监听方法及包装，内部数据格式：\n   * targetIndex_<type:'click|mouseup|done'>: [ [\n   *   function(){ ... handler ... },\n   *   function(){ ... handlerWrap ... handler.apply(target, arguments) ... },\n   *   isOnce\n   * ]]\n   */\n  var _evtListenerCache = _Object$create(null);\n  _evtListenerCache.count = 0;\n\n  /**\n   * 得到某对象的某事件类型对应的监听队列数组\n   * @param  {Object}  target 发生事件的对象\n   * @param {String} type 事件类型(这里的时间类型不只是名称，还是缓存标识，可以通过添加后缀来区分)\n   * @return {Array}\n   */\n  function getEvtTypeCache(target, type) {\n\n    var evtId = target.__evt_id;\n    if (!evtId) {\n\n      /* 设置__evt_id不可枚举 */\n      Object.defineProperty(target, '__evt_id', {\n        writable: true,\n        enumerable: false,\n        configurable: true\n      });\n\n      /* 空对象初始化绑定索引 */\n      evtId = target.__evt_id = ++_evtListenerCache.count;\n    }\n\n    var typeCacheKey = evtId + '_' + type;\n    var evtTypeCache = _evtListenerCache[typeCacheKey];\n    if (!evtTypeCache) {\n      evtTypeCache = _evtListenerCache[typeCacheKey] = [];\n    }\n\n    return evtTypeCache;\n  }\n\n  /**\n   * 触发事件监听方法\n   * @param  {Object}  target 发生事件的对象\n   * @param {String} type 事件类型\n   * @param {Object} eventObj 触发事件时要传回的event对象\n   * @return {undefined}\n   */\n  function emitEventCache(target, type, eventObj) {\n    var evt = _Object$create(null);\n    evt.type = type;\n    evt.target = target;\n    if (eventObj) {\n      _Object$assign(evt, isObject$1(eventObj) ? eventObj : { data: eventObj });\n    }\n    getEvtTypeCache(target, type).forEach(function (item) {\n      (item[1] || item[0]).apply(target, [evt]);\n    });\n  }\n\n  /**\n   * 添加事件监听到缓存\n   * @param  {Object}  target 发生事件的对象\n   * @param {String} type 事件类型\n   * @param {Function} handler 监听函数\n   * @param {Boolean} isOnce 是否单次执行\n   * @param {Function} handlerWrap\n   * @return {undefined}\n   */\n  function addEventCache(target, type, handler) {\n    var isOnce = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var handlerWrap = arguments[4];\n\n    if (isFunction(isOnce) && !handlerWrap) {\n      handlerWrap = isOnce;\n      isOnce = undefined;\n    }\n    var handlers = [handler, undefined, isOnce];\n    if (isOnce && !handlerWrap) {\n      handlerWrap = function handlerWrap() {\n        removeEventCache(target, type, handler, isOnce);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        handler.apply(target, args);\n      };\n    }\n    if (handlerWrap) {\n      handlers[1] = handlerWrap;\n    }\n    getEvtTypeCache(target, type).push(handlers);\n  }\n\n  /**\n   * 移除事件监听\n   * @param  {Object}  target 发生事件的对象\n   * @param {String} type 事件类型\n   * @param {Function} handler 监听函数\n   * @return {undefined}\n   */\n  function removeEventCache(target, type, handler) {\n    var isOnce = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    var typeCache = getEvtTypeCache(target, type);\n\n    if (handler || isOnce) {\n      /* 有指定 handler 则清除对应监听 */\n      var handlerId = -1;\n      var handlerWrap = void 0;\n      typeCache.find(function (item, i) {\n        if ((!handler || item[0] === handler) && (!isOnce || item[2])) {\n          handlerId = i;\n          handlerWrap = item[1];\n          return true;\n        }\n      });\n      if (handlerId !== -1) {\n        typeCache.splice(handlerId, 1);\n      }\n      return handlerWrap;\n    } else {\n      /* 未指定 handler 则清除type对应的所有监听 */\n      typeCache.length = 0;\n    }\n  }\n\n  /**\n   * @class CustEvent\n   * @description\n   * Event 自定义事件类\n   * 1. 可以使用不传参得到的实例作为eventBus使用\n   * 2. 可以通过指定target，用多个实例操作同一target对象的事件管理\n   * 3. 当设定target时，可以通过设置assign为true，来给target实现\"on\\once\\off\\emit\"方法\n   * @param  {Object}  target 发生事件的对象（空则默认为event实例）\n   * @param  {Boolean}  assign 是否将\"on\\once\\off\\emit\"方法实现到target对象上\n   * @return {event}\n   */\n  var CustEvent = function () {\n    function CustEvent(target, assign$$1) {\n      var _this = this;\n\n      _classCallCheck(this, CustEvent);\n\n      /* 设置__target不可枚举 */\n      Object.defineProperty(this, '__target', {\n        writable: true,\n        enumerable: false,\n        configurable: true\n      });\n      this.__target = this;\n\n      if (target) {\n\n        if ((typeof target === 'undefined' ? 'undefined' : _typeof(target)) !== 'object') {\n          throw new Error('CusEvent target are not object');\n        }\n        this.__target = target;\n\n        /* 为target实现on\\once\\off\\emit */\n        if (assign$$1) {\n          ['on', 'once', 'off', 'emit'].forEach(function (mth) {\n            target[mth] = _this[mth];\n          });\n        }\n      }\n    }\n\n    /**\n     * 添加事件监听\n     * @param {String} type 事件类型\n     * @param {Function} handler 监听函数\n     * @param {Boolean} isOnce 单次监听类型\n     * @return {event}\n     */\n\n    _createClass(CustEvent, [{\n      key: 'on',\n      value: function on(type, handler) {\n        var isOnce = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n        addEventCache(this.__target, type, handler, isOnce);\n        return this;\n      }\n\n      /**\n       * 添加事件监听,并且只执行一次\n       * @param {String} type 事件类型\n       * @param {Function} handler 监听函数\n       * @return {event}\n       */\n\n    }, {\n      key: 'once',\n      value: function once(type, handler) {\n        return this.on(type, handler, true);\n      }\n\n      /**\n       * 移除事件监听\n       * @param {String} type 事件类型\n       * @param {Function} handler 监听函数(不指定handler则清除type对应的所有事件监听)\n       * @param {Boolean} isOnce 单次监听类型\n       * @return {event}\n       */\n\n    }, {\n      key: 'off',\n      value: function off(type, handler) {\n        var isOnce = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n        removeEventCache(this.__target, type, handler, isOnce);\n        return this;\n      }\n\n      /**\n       * 触发事件监听函数\n       * @param {String} type 事件类型\n       * @return {event}\n       */\n\n    }, {\n      key: 'emit',\n      value: function emit(type, data) {\n        emitEventCache(this.__target, type, { data: data });\n        return this;\n      }\n    }]);\n\n    return CustEvent;\n  }();\n\n  /**\n   * chimee-helper-dom v0.1.7\n   * (c) 2017 huzunjie\n   * Released under MIT\n   */\n\n  /**\n   * chimee-helper-events v0.1.0\n   * (c) 2017 toxic-johann\n   * Released under MIT\n   */\n\n  /**\n  * @module event\n  * @author huzunjie\n  * @description 自定义事件基础类\n  */\n\n  /* 缓存事件监听方法及包装，内部数据格式：\n   * targetIndex_<type:'click|mouseup|done'>: [ [\n   *   function(){ ... handler ... },\n   *   function(){ ... handlerWrap ... handler.apply(target, arguments) ... },\n   *   isOnce\n   * ]]\n   */\n  var _evtListenerCache$1 = _Object$create(null);\n  _evtListenerCache$1.count = 0;\n\n  /**\n   * 得到某对象的某事件类型对应的监听队列数组\n   * @param  {Object}  target 发生事件的对象\n   * @param {String} type 事件类型(这里的时间类型不只是名称，还是缓存标识，可以通过添加后缀来区分)\n   * @return {Array}\n   */\n  function getEvtTypeCache$1(target, type) {\n\n    var evtId = target.__evt_id;\n    if (!evtId) {\n\n      /* 设置__evt_id不可枚举 */\n      Object.defineProperty(target, '__evt_id', {\n        writable: true,\n        enumerable: false,\n        configurable: true\n      });\n\n      /* 空对象初始化绑定索引 */\n      evtId = target.__evt_id = ++_evtListenerCache$1.count;\n    }\n\n    var typeCacheKey = evtId + '_' + type;\n    var evtTypeCache = _evtListenerCache$1[typeCacheKey];\n    if (!evtTypeCache) {\n      evtTypeCache = _evtListenerCache$1[typeCacheKey] = [];\n    }\n\n    return evtTypeCache;\n  }\n\n  /**\n   * 触发事件监听方法\n   * @param  {Object}  target 发生事件的对象\n   * @param {String} type 事件类型\n   * @param {Object} eventObj 触发事件时要传回的event对象\n   * @return {undefined}\n   */\n  function emitEventCache$1(target, type, eventObj) {\n    var evt = _Object$create(null);\n    evt.type = type;\n    evt.target = target;\n    if (eventObj) {\n      _Object$assign(evt, isObject$1(eventObj) ? eventObj : { data: eventObj });\n    }\n    getEvtTypeCache$1(target, type).forEach(function (item) {\n      (item[1] || item[0]).apply(target, [evt]);\n    });\n  }\n\n  /**\n   * 添加事件监听到缓存\n   * @param  {Object}  target 发生事件的对象\n   * @param {String} type 事件类型\n   * @param {Function} handler 监听函数\n   * @param {Boolean} isOnce 是否单次执行\n   * @param {Function} handlerWrap\n   * @return {undefined}\n   */\n  function addEventCache$1(target, type, handler) {\n    var isOnce = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var handlerWrap = arguments[4];\n\n    if (isFunction(isOnce) && !handlerWrap) {\n      handlerWrap = isOnce;\n      isOnce = undefined;\n    }\n    var handlers = [handler, undefined, isOnce];\n    if (isOnce && !handlerWrap) {\n      handlerWrap = function handlerWrap() {\n        removeEventCache$1(target, type, handler, isOnce);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        handler.apply(target, args);\n      };\n    }\n    if (handlerWrap) {\n      handlers[1] = handlerWrap;\n    }\n    getEvtTypeCache$1(target, type).push(handlers);\n  }\n\n  /**\n   * 移除事件监听\n   * @param  {Object}  target 发生事件的对象\n   * @param {String} type 事件类型\n   * @param {Function} handler 监听函数\n   * @return {undefined}\n   */\n  function removeEventCache$1(target, type, handler) {\n    var isOnce = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    var typeCache = getEvtTypeCache$1(target, type);\n\n    if (handler || isOnce) {\n      /* 有指定 handler 则清除对应监听 */\n      var handlerId = -1;\n      var handlerWrap = void 0;\n      typeCache.find(function (item, i) {\n        if ((!handler || item[0] === handler) && (!isOnce || item[2])) {\n          handlerId = i;\n          handlerWrap = item[1];\n          return true;\n        }\n      });\n      if (handlerId !== -1) {\n        typeCache.splice(handlerId, 1);\n      }\n      return handlerWrap;\n    } else {\n      /* 未指定 handler 则清除type对应的所有监听 */\n      typeCache.length = 0;\n    }\n  }\n\n  /**\n   * @class CustEvent\n   * @description\n   * Event 自定义事件类\n   * 1. 可以使用不传参得到的实例作为eventBus使用\n   * 2. 可以通过指定target，用多个实例操作同一target对象的事件管理\n   * 3. 当设定target时，可以通过设置assign为true，来给target实现\"on\\once\\off\\emit\"方法\n   * @param  {Object}  target 发生事件的对象（空则默认为event实例）\n   * @param  {Boolean}  assign 是否将\"on\\once\\off\\emit\"方法实现到target对象上\n   * @return {event}\n   */\n  var CustEvent$1 = function () {\n    function CustEvent(target, assign$$1) {\n      var _this = this;\n\n      _classCallCheck(this, CustEvent);\n\n      /* 设置__target不可枚举 */\n      Object.defineProperty(this, '__target', {\n        writable: true,\n        enumerable: false,\n        configurable: true\n      });\n      this.__target = this;\n\n      if (target) {\n\n        if ((typeof target === 'undefined' ? 'undefined' : _typeof(target)) !== 'object') {\n          throw new Error('CusEvent target are not object');\n        }\n        this.__target = target;\n\n        /* 为target实现on\\once\\off\\emit */\n        if (assign$$1) {\n          ['on', 'once', 'off', 'emit'].forEach(function (mth) {\n            target[mth] = _this[mth];\n          });\n        }\n      }\n    }\n\n    /**\n     * 添加事件监听\n     * @param {String} type 事件类型\n     * @param {Function} handler 监听函数\n     * @param {Boolean} isOnce 单次监听类型\n     * @return {event}\n     */\n\n    _createClass(CustEvent, [{\n      key: 'on',\n      value: function on(type, handler) {\n        var isOnce = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n        addEventCache$1(this.__target, type, handler, isOnce);\n        return this;\n      }\n\n      /**\n       * 添加事件监听,并且只执行一次\n       * @param {String} type 事件类型\n       * @param {Function} handler 监听函数\n       * @return {event}\n       */\n\n    }, {\n      key: 'once',\n      value: function once(type, handler) {\n        return this.on(type, handler, true);\n      }\n\n      /**\n       * 移除事件监听\n       * @param {String} type 事件类型\n       * @param {Function} handler 监听函数(不指定handler则清除type对应的所有事件监听)\n       * @param {Boolean} isOnce 单次监听类型\n       * @return {event}\n       */\n\n    }, {\n      key: 'off',\n      value: function off(type, handler) {\n        var isOnce = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n        removeEventCache$1(this.__target, type, handler, isOnce);\n        return this;\n      }\n\n      /**\n       * 触发事件监听函数\n       * @param {String} type 事件类型\n       * @return {event}\n       */\n\n    }, {\n      key: 'emit',\n      value: function emit(type, data) {\n        emitEventCache$1(this.__target, type, { data: data });\n        return this;\n      }\n    }]);\n\n    return CustEvent;\n  }();\n\n  /**\n   * chimee-helper-utils v0.2.0\n   * (c) 2017 toxic-johann\n   * Released under MIT\n   */\n\n  // **********************  judgement   ************************\n  /**\n   * check if the code running in browser environment (not include worker env)\n   * @returns {Boolean}\n   */\n  var inBrowser$1 = typeof window !== 'undefined' && Object.prototype.toString.call(window) !== '[object Object]';\n\n  // **********************  对象操作  ************************\n  /**\n   * 转变一个类数组对象为数组\n   */\n  function makeArray$1(obj) {\n    return _Array$from(obj);\n  }\n\n  /**\n  * @module dom\n  * @author huzunjie\n  * @description 一些常用的DOM判断及操作方法，可以使用dom.$('*')包装DOM，实现类jQuery的链式操作；当然这里的静态方法也可以直接使用。\n  */\n\n  var _divEl = document.createElement('div');\n  var _textAttrName = 'innerText';\n  'textContent' in _divEl && (_textAttrName = 'textContent');\n  var _arrPrototype = Array.prototype;\n\n  /**\n   * 读取HTML元素属性值\n   * @param {HTMLElement} el 目标元素\n   * @param {String} attrName 目标属性名称\n   * @return {String}\n   */\n  function getAttr(el, attrName) {\n    return el.getAttribute(attrName);\n  }\n\n  /**\n   * 设置HTML元素属性值\n   * @param {HTMLElement} el 目标元素\n   * @param {String} attrName 目标属性名称\n   * @param {String} attrVal 目标属性值\n   */\n  function setAttr(el, attrName, attrVal) {\n    if (attrVal === undefined) {\n      el.removeAttribute(attrName);\n    } else {\n      el.setAttribute(attrName, attrVal);\n    }\n  }\n\n  /**\n   * 为HTML元素添加className\n   * @param {HTMLElement} el 目标元素\n   * @param {String} cls 要添加的className（多个以空格分割）\n   */\n  function addClassName(el, cls) {\n    if (!cls || !(cls = cls.trim())) {\n      return;\n    }\n    var clsArr = cls.split(/\\s+/);\n    if (el.classList) {\n      clsArr.forEach(function (c) {\n        return el.classList.add(c);\n      });\n    } else {\n      var curCls = ' ' + (el.className || '') + ' ';\n      clsArr.forEach(function (c) {\n        curCls.indexOf(' ' + c + ' ') === -1 && (curCls += ' ' + c);\n      });\n      el.className = curCls.trim();\n    }\n  }\n\n  /**\n   * 为HTML元素移除className\n   * @param {HTMLElement} el 目标元素\n   * @param {String} cls 要移除的className（多个以空格分割）\n   */\n  function removeClassName(el, cls) {\n    if (!cls || !(cls = cls.trim())) {\n      return;\n    }\n\n    var clsArr = cls.split(/\\s+/);\n    if (el.classList) {\n      clsArr.forEach(function (c) {\n        return el.classList.remove(c);\n      });\n    } else {\n      var curCls = ' ' + el.className + ' ';\n      clsArr.forEach(function (c) {\n        var tar = ' ' + c + ' ';\n        while (curCls.indexOf(tar) !== -1) {\n          curCls = curCls.replace(tar, ' ');\n        }\n      });\n      el.className = curCls.trim();\n    }\n  }\n\n  /**\n   * 检查HTML元素是否已设置className\n   * @param {HTMLElement} el 目标元素\n   * @param {String} className 要检查的className\n   * @return {Boolean}\n   */\n  function hasClassName(el, className) {\n    return new RegExp('(?:^|\\\\s)' + className + '(?=\\\\s|$)').test(el.className);\n  }\n\n  /**\n   * addEventListener 是否已支持 passive\n   * @return {Boolean}\n   */\n  var supportsPassive = false;\n  try {\n    var opts = Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supportsPassive = true;\n      }\n    });\n    window.addEventListener('test', null, opts);\n  } catch (e) {}\n\n  /**\n   * 为HTML元素移除事件监听\n   * @param {HTMLElement} el 目标元素\n   * @param {String} type 事件名称\n   * @param {Function} handler 处理函数\n   * @param {Boolean} once 是否只监听一次\n   * @param {Boolean} capture 是否在捕获阶段的监听\n   */\n  function removeEvent(el, type, handler) {\n    var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n    if (capture !== undefined && !isBoolean(capture) && supportsPassive) {\n      capture = { passive: true };\n    }\n    if (once) {\n      /* 尝试从缓存中读取包装后的方法 */\n      var handlerWrap = removeEventCache$1(el, type + '_once', handler);\n      if (handlerWrap) {\n        handler = handlerWrap;\n      }\n    }\n    el.removeEventListener(type, handler, capture);\n  }\n\n  /**\n   * 为HTML元素添加事件监听\n   * @param {HTMLElement} el 目标元素\n   * @param {String} type 事件名称\n   * @param {Function} handler 处理函数\n   * @param {Boolean} once 是否只监听一次\n   * @param {Boolean} capture 是否在捕获阶段监听\n   */\n  function addEvent(el, type, handler) {\n    var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n    if (capture !== undefined && !isBoolean(capture) && supportsPassive) {\n      capture = { passive: true };\n    }\n    if (once) {\n      var oldHandler = handler;\n      handler = function () {\n        return function () {\n          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          oldHandler.apply(this, args);\n          removeEvent(el, type, handler, once, capture);\n        };\n      }();\n      /* 将包装后的方法记录到缓存中 */\n      addEventCache$1(el, type + '_once', oldHandler, handler);\n    }\n\n    el.addEventListener(type, handler, capture);\n  }\n\n  /**\n   * 为HTML元素添加事件代理\n   * @param {HTMLElement} el 目标元素\n   * @param {String} selector 要被代理的元素\n   * @param {String} type 事件名称\n   * @param {Function} handler 处理函数\n   * @param {Boolean} capture 是否在捕获阶段监听\n   */\n  function addDelegate(el, selector, type, handler) {\n    var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n    if (capture !== undefined && !isBoolean(capture) && supportsPassive) {\n      capture = { passive: true };\n    }\n    var handlerWrap = function handlerWrap(e) {\n      var targetElsArr = findParents(e.target || e.srcElement, el, true);\n      var targetElArr = query(selector, el, true);\n      var retEl = void 0;\n      if (targetElArr.find) {\n        retEl = targetElArr.find(function (seEl) {\n          return targetElsArr.find(function (tgEl) {\n            return seEl === tgEl;\n          });\n        });\n      } else {\n        // Fixed IE11 Array.find not defined bug\n        targetElArr.forEach(function (seEl) {\n          return !retEl && targetElsArr.forEach(function (tgEl) {\n            if (!retEl && seEl === tgEl) {\n              retEl = tgEl;\n            }\n          });\n        });\n      }\n      retEl && handler.apply(retEl, arguments);\n    };\n    /* 将包装后的方法记录到缓存中 */\n    addEventCache$1(el, type + '_delegate_' + selector, handler, handlerWrap);\n    el.addEventListener(type, handlerWrap, capture);\n  }\n\n  /**\n   * 为HTML元素移除事件代理\n   * @param {HTMLElement} el 目标元素\n   * @param {String} selector 要被代理的元素\n   * @param {String} type 事件名称\n   * @param {Function} handler 处理函数\n   * @param {Boolean} capture 是否在捕获阶段监听\n   */\n  function removeDelegate(el, selector, type, handler) {\n    var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n    if (capture !== undefined && !isBoolean(capture) && supportsPassive) {\n      capture = { passive: true };\n    }\n    /* 尝试从缓存中读取包装后的方法 */\n    var handlerWrap = removeEventCache$1(el, type + '_delegate_' + selector, handler);\n    handlerWrap && el.removeEventListener(type, handlerWrap, capture);\n  }\n\n  /**\n   * 读取HTML元素样式值\n   * @param {HTMLElement} el 目标元素\n   * @param {String} key 样式key\n   * @return {String}\n   */\n  function getStyle(el, key) {\n    return (el.currentStyle || document.defaultView.getComputedStyle(el, null))[key] || el.style[key];\n  }\n\n  /**\n   * 设置HTML元素样式值\n   * @param {HTMLElement} el 目标元素\n   * @param {String} key 样式key\n   * @param {String} val 样式值\n   */\n  function setStyle(el, key, val) {\n    if (isObject$1(key)) {\n      for (var k in key) {\n        setStyle(el, k, key[k]);\n      }\n    } else {\n      el.style[key] = val;\n    }\n  }\n\n  /**\n   * 根据选择器查询目标元素\n   * @param {String} selector 选择器,用于 querySelectorAll\n   * @param {HTMLElement} container 父容器\n   * @param {Boolean} toArray 强制输出为数组\n   * @return {NodeList|Array}\n   */\n  function query(selector) {\n    var container = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n    var toArray = arguments[2];\n\n    var retNodeList = container.querySelectorAll(selector);\n    return toArray ? _Array$from(retNodeList) : retNodeList;\n  }\n\n  /**\n   * 从DOM树中移除el\n   * @param {HTMLElement} el 目标元素\n   */\n  function removeEl(el) {\n    el.parentNode.removeChild(el);\n  }\n\n  /**\n   * 查找元素的父节点们\n   * @param {HTMLElement} el 目标元素\n   * @param {HTMLElement} endEl 最大父容器（不指定则找到html）\n   * @param {Boolean} haveEl 包含当前元素\n   * @param {Boolean} haveEndEl 包含设定的最大父容器\n   */\n  function findParents(el) {\n    var endEl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var haveEl = arguments[2];\n    var haveEndEl = arguments[3];\n\n    var retEls = [];\n    if (haveEl) {\n      retEls.push(el);\n    }\n    while (el && el.parentNode !== endEl) {\n      el = el.parentNode;\n      el && retEls.push(el);\n    }\n    if (haveEndEl) {\n      retEls.push(endEl);\n    }\n    return retEls;\n  }\n\n  /**\n   * 根据选择器查询并得到目标元素的wrap包装器\n   * @param {String} selector 选择器,另外支持 HTMLString||NodeList||NodeArray||HTMLElement\n   * @param {HTMLElement} container 父容器\n   * @return {Object}\n   */\n  function $(selector, container) {\n    return selector.constructor === NodeWrap ? selector : new NodeWrap(selector, container);\n  }\n\n  /**\n   * @class NodeWrap\n   * @description\n   * NodeWrap DOM包装器，用以实现基本的链式操作\n   * new dom.NodeWrap('*') 相当于 dom.$('*')\n   * 这里面用于DOM操作的属性方法都是基于上面静态方法实现，有需要可以随时修改补充\n   * @param {String} selector 选择器(兼容 String||HTMLString||NodeList||NodeArray||HTMLElement)\n   * @param {HTMLElement} container 父容器（默认为document）\n   */\n\n  var NodeWrap = function () {\n    function NodeWrap(selector) {\n      var container = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n\n      _classCallCheck(this, NodeWrap);\n\n      var _this = this;\n      _this.selector = selector;\n\n      /* String||NodeList||HTMLElement 识别处理 */\n      var elsArr = void 0;\n      if (selector && selector.constructor === NodeList) {\n        /* 支持直接传入NodeList来构建包装器 */\n        elsArr = makeArray$1(selector);\n      } else if (isArray$1(selector)) {\n        /* 支持直接传入Node数组来构建包装器 */\n        elsArr = selector;\n      } else if (isString(selector)) {\n        if (selector.indexOf('<') === 0) {\n          /* 支持直接传入HTML字符串来新建DOM并构建包装器 */\n          _divEl.innerHTML = selector;\n          elsArr = query('*', _divEl, true);\n        } else {\n          /* 支持直接传入字符串选择器来查找DOM并构建包装器 */\n          elsArr = query(selector, container, true);\n        }\n      } else {\n        /* 其他任意对象直接构建包装器 */\n        elsArr = [selector];\n      }\n      _Object$assign(_this, elsArr);\n\n      /* NodeWrap本意可以 extends Array省略构造方法中下面这部分代码，但目前编译不支持 */\n      _this.length = elsArr.length;\n    }\n\n    /**\n     * 循环遍历DOM集合\n     * @param {Function} fn 遍历函数 fn(item, i)\n     * @return {Object}\n     */\n\n    _createClass(NodeWrap, [{\n      key: 'each',\n      value: function each() {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        _arrPrototype.forEach.apply(this, args);\n        return this;\n      }\n    }, {\n      key: 'push',\n\n      /**\n       * 添加元素到DOM集合\n       * @param {HTMLElement} el 要加入的元素\n       * @return {this}\n       */\n      value: function push() {\n        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          args[_key3] = arguments[_key3];\n        }\n\n        _arrPrototype.push.apply(this, args);\n        return this;\n      }\n    }, {\n      key: 'splice',\n\n      /**\n       * 截取DOM集合片段，并得到新的包装器splice\n       * @param {Nubmer} start\n       * @param {Nubmer} count\n       * @return {NodeWrap} 新的DOM集合包装器\n       */\n      value: function splice() {\n        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n          args[_key4] = arguments[_key4];\n        }\n\n        return $(_arrPrototype.splice.apply(this, args));\n      }\n    }, {\n      key: 'find',\n\n      /**\n       * 查找子元素\n       * @param {String} selector 选择器\n       * @return {NodeWrap} 新的DOM集合包装器\n       */\n      value: function find(selector) {\n        var childs = [];\n        this.each(function (el) {\n          childs = childs.concat(query(selector, el, true));\n        });\n        var childsWrap = $(childs);\n        childsWrap.parent = this;\n        childsWrap.selector = selector;\n        return childsWrap;\n      }\n\n      /**\n       * 添加子元素\n       * @param {HTMLElement} childEls 要添加的HTML元素\n       * @return {this}\n       */\n\n    }, {\n      key: 'append',\n      value: function append(childEls) {\n        var childsWrap = $(childEls);\n        var firstEl = this[0];\n        childsWrap.each(function (newEl) {\n          return firstEl.appendChild(newEl);\n        });\n        return this;\n      }\n\n      /**\n       * 将元素集合添加到指定容器\n       * @param {HTMLElement} parentEl 要添加到父容器\n       * @return {this}\n       */\n\n    }, {\n      key: 'appendTo',\n      value: function appendTo(parentEl) {\n        $(parentEl).append(this);\n        return this;\n      }\n\n      /**\n       * DOM集合text内容读写操作\n       * @param {String} val 文本内容（如果有设置该参数则执行写操作，否则执行读操作）\n       * @return {this}\n       */\n\n    }, {\n      key: 'text',\n      value: function text(val) {\n        if (arguments.length === 0) {\n          return this[0][_textAttrName];\n        }\n        return this.each(function (el) {\n          el[_textAttrName] = val;\n        });\n      }\n\n      /**\n       * DOM集合HTML内容读写操作\n       * @param {String} html html内容（如果有设置该参数则执行写操作，否则执行读操作）\n       * @return {this}\n       */\n\n    }, {\n      key: 'html',\n      value: function html(_html) {\n        if (arguments.length === 0) {\n          return this[0].innerHTML;\n        }\n        return this.each(function (el) {\n          el.innerHTML = _html;\n        });\n      }\n\n      /**\n       * DOM集合属性读写操作\n       * @param {String} name 属性名称\n       * @param {String} val 属性值（如果有设置该参数则执行写操作，否则执行读操作）\n       * @return {this}\n       */\n\n    }, {\n      key: 'attr',\n      value: function attr(name, val) {\n        if (arguments.length === 1) {\n          return getAttr(this[0], name);\n        }\n        return this.each(function (el) {\n          return setAttr(el, name, val);\n        });\n      }\n\n      /**\n       * DOM集合dataset读写操作\n       * @param {String} key 键名\n       * @param {Any} val 键值（如果有设置该参数则执行写操作，否则执行读操作）\n       * @return {this}\n       */\n\n    }, {\n      key: 'data',\n      value: function data(key, val) {\n        if (arguments.length === 0) {\n          return this[0].dataset || {};\n        }\n        if (arguments.length === 1) {\n          return (this[0].dataset || {})[key];\n        }\n        return this.each(function (el) {\n          (el.dataset || (el.dataset = {}))[key] = val;\n        });\n      }\n\n      /**\n       * DOM集合样式读写操作\n       * @param {String} key 样式key\n       * @param {String} val 样式值（如果有设置该参数则执行写操作，否则执行读操作）\n       * @return {this}\n       */\n\n    }, {\n      key: 'css',\n      value: function css(key, val) {\n        if (arguments.length === 1 && !isObject$1(key)) {\n          return getStyle(this[0], key);\n        }\n        return this.each(function (el) {\n          return setStyle(el, key, val);\n        });\n      }\n\n      /**\n       * 为DOM集合增加className\n       * @param {String} cls 要增加的className\n       * @return {this}\n       */\n\n    }, {\n      key: 'addClass',\n      value: function addClass(cls) {\n        return this.each(function (el) {\n          return addClassName(el, cls);\n        });\n      }\n\n      /**\n       * 移除当前DOM集合的className\n       * @param {String} cls 要移除的className\n       * @return {this}\n       */\n\n    }, {\n      key: 'removeClass',\n      value: function removeClass(cls) {\n        return this.each(function (el) {\n          return removeClassName(el, cls);\n        });\n      }\n\n      /**\n       * 检查索引0的DOM是否有className\n       * @param {String} cls 要检查的className\n       * @return {this}\n       */\n\n    }, {\n      key: 'hasClass',\n      value: function hasClass(cls) {\n        return hasClassName(this[0], cls);\n      }\n\n      /**\n       * 为DOM集合添加事件监听\n       * @param {String} type 事件名称\n       * @param {Function} handler 处理函数\n       * @param {Boolean} once 是否只监听一次\n       * @param {Boolean} capture 是否在捕获阶段监听\n       * @return {this}\n       */\n\n    }, {\n      key: 'on',\n      value: function on(type, handler) {\n        var once = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n        return this.each(function (el) {\n          return addEvent(el, type, handler, once, capture);\n        });\n      }\n\n      /**\n       * 为DOM集合解除事件监听\n       * @param {String} type 事件名称\n       * @param {Function} handler 处理函数\n       * @param {Boolean} once 是否只监听一次\n       * @param {Boolean} capture 是否在捕获阶段监听\n       * @return {this}\n       */\n\n    }, {\n      key: 'off',\n      value: function off(type, handler) {\n        var once = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n        return this.each(function (el) {\n          return removeEvent(el, type, handler, once, capture);\n        });\n      }\n\n      /**\n       * 为DOM集合绑定事件代理\n       * @param {String} selector 目标子元素选择器\n       * @param {String} type 事件名称\n       * @param {Function} handler 处理函数\n       * @param {Boolean} capture 是否在捕获阶段监听\n       * @return {this}\n       */\n\n    }, {\n      key: 'delegate',\n      value: function delegate(selector, type, handler) {\n        var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n        return this.each(function (el) {\n          return addDelegate(el, selector, type, handler, capture);\n        });\n      }\n\n      /**\n       * 为DOM集合解绑事件代理\n       * @param {String} selector 目标子元素选择器\n       * @param {String} type 事件名称\n       * @param {Function} handler 处理函数\n       * @param {Boolean} capture 是否在捕获阶段监听\n       * @return {this}\n       */\n\n    }, {\n      key: 'undelegate',\n      value: function undelegate(selector, type, handler) {\n        var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n        return this.each(function (el) {\n          return removeDelegate(el, selector, type, handler, capture);\n        });\n      }\n\n      /**\n       * 从DOM树中移除\n       * @return {this}\n       */\n\n    }, {\n      key: 'remove',\n      value: function remove() {\n        return this.each(function (el) {\n          return removeEl(el);\n        });\n      }\n    }]);\n\n    return NodeWrap;\n  }();\n\n  /**\n   * chimee-helper v0.2.8\n   * (c) 2017 toxic-johann\n   * Released under MIT\n   */\n\n  __$styleInject(\"chimee-popup{position:absolute;color:#fff;background-color:rgba(88,88,88,.5);font-size:13px;font-family:sans-serif;border:1px solid hsla(0,0%,100%,.08);padding:3px}chimee-popup cm-pp-close{float:right;color:#fff;text-decoration:none;line-height:14px;text-shadow:0 0 1px #000;font-size:15px;padding:0 3px;cursor:pointer;opacity:.8}chimee-popup cm-pp-close:hover{opacity:1}chimee-popup cm-pp-body,chimee-popup cm-pp-head{display:block;padding:3px 3px 6px}chimee-popup cm-pp-head{font-weight:700;border-bottom:1px solid hsla(0,0%,100%,.18);padding:0 5px 4px;margin-bottom:5px}chimee-popup cm-pp-body{font-size:12px}\", undefined);\n\n  /**\n   * 这里提供一个工厂方法，用于生产一个popup插件配置，或基于popup特性实现自己的插件\n   * @param {Object} optons 针对popup扩展了定制化参数，另外也用来重写部分PluginConfig配置\n   * @param {String} optons.name 插件名\n   * @param {String} optons.tagName Popup DOM容器的tagName\n   * @param {String} optons.className Popup DOM容器的className\n   * @param {String} optons.title Popup 标题，当设置值为 false 则不渲染title对应DOM\n   * @param {String} optons.body Popup 内容，当设置值为 false 则不渲染body对应DOM\n   * @param {String} optons.html html 用于构架popup的模板，重写后上面的title、body无效\n   * @param {String} optons.offset 设定相对播放器要展示的坐标位置，空格分割的坐标值：'X:left Y:top'||'top right bottom left', 具体的像素百分比值或者auto；实例化后可重写 popupplugin.offset('0 0 0 0')\n   * @param {String} optons.offsetAttr offset对应的CSS属性key，默认'left top'、'top right bottom left'-当offset空格分割的参数值多余2个时，便于只设定个别或特定方向边距\n   * @param {String} optons.translate 在offset基础上的偏移量，格式如：\"leftVal topVal\"，当offset为50%这里没设定值，则默认偏移-50%；实例化后可重写 popupplugin.translate('0 0')\n   * @param {String} optons.width 宽度值（需要带单位）；实例化后可重写 popupplugin.width('100px')\n   * @param {String} optons.height 高度值（需要带单位）；实例化后可重写 popupplugin.height('100px')\n   * @param {Boolean} optons.hide 初始状态是否设置为关闭，默认值 false\n   * @param {Function} optons.opened 开启时执行\n   * @param {Function} optons.closed 关闭时执行\n   * @param {Boolean} optons.penetrate 是否将交互事件同步到video元素(点击当前popup同样实现video的暂停播放)，默认值 false\n   * @param {Boolean} optons.operable 是否启用事件交互（false则设置CSS事件穿透），默认值 true\n   * @return {PluginConfig}\n   */\n  function popupFactory() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$tagName = _ref.tagName,\n        tagName = _ref$tagName === undefined ? 'chimee-popup' : _ref$tagName,\n        className = _ref.className,\n        _ref$name = _ref.name,\n        name = _ref$name === undefined ? 'popup' : _ref$name,\n        html = _ref.html,\n        _ref$title = _ref.title,\n        title = _ref$title === undefined ? '这是一个信息框' : _ref$title,\n        _ref$body = _ref.body,\n        body = _ref$body === undefined ? '这里是信息内容' : _ref$body,\n        _ref$offsetAttr = _ref.offsetAttr,\n        offsetAttr = _ref$offsetAttr === undefined ? 'left top' : _ref$offsetAttr,\n        _ref$offset = _ref.offset,\n        offset = _ref$offset === undefined ? '50% 50%' : _ref$offset,\n        _ref$translate = _ref.translate,\n        translate = _ref$translate === undefined ? '' : _ref$translate,\n        width = _ref.width,\n        height = _ref.height,\n        level = _ref.level,\n        init = _ref.init,\n        inited = _ref.inited,\n        data = _ref.data,\n        _create = _ref.create,\n        _beforeCreate = _ref.beforeCreate,\n        _destroy = _ref.destroy,\n        events = _ref.events,\n        computed = _ref.computed,\n        _ref$methods = _ref.methods,\n        methods = _ref$methods === undefined ? {} : _ref$methods,\n        _ref$penetrate = _ref.penetrate,\n        penetrate = _ref$penetrate === undefined ? false : _ref$penetrate,\n        _ref$operable = _ref.operable,\n        operable = _ref$operable === undefined ? true : _ref$operable,\n        _ref$hide = _ref.hide,\n        hide = _ref$hide === undefined ? false : _ref$hide,\n        opened = _ref.opened,\n        closed = _ref.closed,\n        autoFocus = _ref.autoFocus;\n\n    var defaultConfig = {\n      html: html || '\\n      <cm-pp-close>\\xD7</cm-pp-close>\\n      ' + (title !== false ? '<cm-pp-head>' + title + '</cm-pp-head>' : '') + '\\n      ' + (body !== false ? '<cm-pp-body>' + body + '</cm-pp-body>' : '') + '\\n    ',\n      closeSelector: '._close'\n    };\n\n    return {\n      name: name,\n      el: tagName,\n      className: className,\n      beforeCreate: function beforeCreate() {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            events = _ref2.events,\n            methods = _ref2.methods;\n\n        var option = arguments[1];\n\n        if (isObject$1(option)) {\n          isObject$1(option.events) && deepAssign(events, option.events);\n          isObject$1(option.methods) && deepAssign(methods, option.methods);\n        }\n        _beforeCreate && _beforeCreate.apply(this, arguments);\n      },\n      create: function create() {\n\n        var config = isObject$1(this.$config) ? deepAssign(defaultConfig, this.$config) : defaultConfig;\n        var $dom = this.$domWrap = $(this.$dom).css('display', 'none');\n\n        $dom.html(config.html).delegate('cm-pp-close, ' + config.closeSelector, 'click', this.close);\n\n        this.width(width).height(height).offset(offset).translate(translate);\n\n        this._hide = hide;\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _create && _create.apply(this, args);\n        !this._hide && this.open();\n      },\n      destroy: function destroy() {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        _destroy && _destroy.apply(this, args);\n        this.$domWrap.undelegate(this.$config.closeSelector, 'click', this.close).remove();\n      },\n\n      level: level,\n      init: init,\n      inited: inited,\n      data: data,\n      events: events,\n      computed: computed,\n      penetrate: penetrate,\n      operable: operable,\n      autoFocus: autoFocus,\n      methods: deepAssign({\n        open: function open() {\n          if (this.destroyed) return this;\n          this.$domWrap.css('display', 'block');\n          this._hide = false;\n\n          for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n\n          this.$emit('popupOpen', args, this);\n          isFunction(opened) && opened.apply(this, args);\n          return this;\n        },\n        close: function close() {\n          if (this.destroyed) return this;\n          this.$domWrap.css('display', 'none');\n          this._hide = true;\n\n          for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n          }\n\n          this.$emit('popupClose', args, this);\n          isFunction(closed) && closed.apply(this, args);\n          return this;\n        },\n        width: function width(_width) {\n          _width && this.$domWrap.css('width', _width);\n          return this;\n        },\n        height: function height(_height) {\n          _height && this.$domWrap.css('height', _height);\n          return this;\n        },\n        offset: function offset(vals) {\n          var trblArr = ('' + (vals || '')).split(' ');\n          var cssObj = {};\n          if (trblArr.length > 2) {\n            ['top', 'right', 'bottom', 'left'].forEach(function (dir, i) {\n              if (trblArr[i]) {\n                cssObj[dir] = trblArr[i];\n              }\n            });\n            this.$domWrap.css(cssObj);\n            return this;\n          }\n\n          var _trblArr = _slicedToArray(trblArr, 2),\n              left = _trblArr[0],\n              _top = _trblArr[1];\n\n          if (left === '') {\n            return this;\n          }\n          var top = _top || left;\n          var xyAttr = offsetAttr.split(' ');\n          cssObj[xyAttr[0]] = left;\n          cssObj[xyAttr[1]] = top;\n          this.$domWrap.css(cssObj);\n\n          var translateXY = [];\n          if (left === '50%') {\n            translateXY.push('-50%');\n          }\n          if (top === '50%') {\n            translateXY.push('-50%');\n          }\n          translateXY.length > 0 && this.translate(translateXY.join(' '));\n          return this;\n        },\n        translate: function translate(xy) {\n          var _$split = ('' + (xy || '')).split(' '),\n              _$split2 = _slicedToArray(_$split, 2),\n              x = _$split2[0],\n              y = _$split2[1];\n\n          if (x !== '') {\n            this.$domWrap.css('transform', 'translate(' + x + ', ' + (y || x) + ')');\n            if (!('transform' in document.createElement('a').style) && window.console && window.console.warn) {\n              console.warn('[chimee-plugin-popup] 当前环境不支持CSS3的transform特性，Dom元素无法正常使用translate。');\n            }\n          }\n          return this;\n        }\n      }, methods)\n    };\n  }\n\n  return popupFactory;\n});"},"hash":"2eb0aaafad3ea0aebd4413d2a0e7df3e"}